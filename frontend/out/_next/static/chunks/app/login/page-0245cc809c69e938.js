(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{20808:function(e,r,t){Promise.resolve().then(t.bind(t,71193))},71193:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var s=t(57437),n=t(2265),a=t(16463),o=t(34755),u=t(7583),i=t.n(u),c=t(88726);function l(){let[e,r]=(0,n.useState)(""),[t,u]=(0,n.useState)(""),[l,d]=(0,n.useState)(!1),m=(0,a.useRouter)();(0,n.useEffect)(()=>{localStorage.getItem("jwt_token")&&m.push("/admin/surveys")},[m]);let g=async e=>{console.log("Forgot Password for Email:",e);let r=(0,o.gF)({email:e});c.ZP.promise(r,{loading:"Sending email to reset password...",success:"Email sent successfully.",error:e=>e.message||"Failed to send email."}),d(!1)};return(0,s.jsxs)("div",{className:"flex items-center justify-center min-h-screen bg-white",children:[(0,s.jsx)(c.x7,{position:"top-center",reverseOrder:!1}),(0,s.jsxs)(i(),{isOpen:l,onRequestClose:()=>d(!1),contentLabel:"Forgot Password",className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:[(0,s.jsx)("h2",{className:"text-xl mb-4 text-center font-semibold",children:"Forgot Password"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 mb-2",children:"Enter your email"}),(0,s.jsx)("input",{type:"email",value:e,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200",required:!0})]}),(0,s.jsxs)("div",{className:"flex justify-center",children:[(0,s.jsx)("button",{className:"py-2 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:()=>g(e),children:"Submit"}),(0,s.jsx)("button",{className:"py-2 px-4 ml-2 bg-gray-300 text-black rounded-md hover:bg-gray-400",onClick:()=>d(!1),children:"Cancel"})]})]}),(0,s.jsxs)("div",{id:"main",className:"relative bg-blue-50 rounded-lg shadow-lg p-10 w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-center text-xl font-semibold text-orange-500 mb-6",children:"Survey Login"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Email"}),(0,s.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 mt-1 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700",children:"Password"}),(0,s.jsx)("input",{type:"password",value:t,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 mt-1 border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-blue-200",required:!0})]}),(0,s.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,s.jsx)("a",{onClick:()=>d(!0),className:"cursor-pointer text-sm text-blue-600 hover:underline",children:"Forgot your password?"})}),(0,s.jsx)("button",{onClick:()=>{(0,o.pH)({email:e,password:t}).then(e=>{localStorage.setItem("jwt_token",e.token),e.success?(c.ZP.success(e.message),m.push("/admin/surveys")):(console.log(e),c.ZP.error(e.message))})},className:"w-full py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",children:"Login"})]}),(0,s.jsxs)("div",{className:"text-center mt-4",children:[(0,s.jsx)("span",{children:"Don't have an account? "}),(0,s.jsx)("a",{onClick:()=>m.push("/signup"),className:"text-blue-600 cursor-pointer hover:underline",children:"Register Now"})]})]})]})}i().setAppElement("#main")},34755:function(e,r,t){"use strict";t.d(r,{c0:function(){return u},gF:function(){return o},pH:function(){return a}});var s=t(1633),n=t(38472);let a=async e=>{try{let r={method:"POST",url:"".concat(s.M6,"/").concat(s.x4),data:e};return(await n.Z.request(r)).data}catch(e){if(e.response)return{success:!1,message:e.response.data.message||"Something went wrong",error:e.response.data};return{success:!1,message:"Network error. Please try again.",error:e.message}}},o=async e=>{try{let r={method:"POST",url:"".concat(s.M6,"/").concat(s.jV),data:e},t=await n.Z.request(r);if(!t.data.success)throw Error(t.data.message||"Failed to send email.");return t.data}catch(e){if(e.response)throw Error(e.response.data.message||"Something went wrong");throw Error("Network error. Please try again.")}},u=async e=>{try{let r={method:"POST",url:"".concat(s.M6,"/").concat(s.q6),data:e};return(await n.Z.request(r)).data}catch(e){if(e.response)return{success:!1,message:e.response.data.message||"Something went wrong",error:e.response.data};return{success:!1,message:"Network error. Please try again.",error:e.message}}}},1633:function(e,r,t){"use strict";t.d(r,{A5:function(){return h},Dy:function(){return f},EK:function(){return i},HA:function(){return v},M6:function(){return s},Pn:function(){return d},SR:function(){return a},TK:function(){return p},Tp:function(){return n},Tv:function(){return o},VJ:function(){return j},Yn:function(){return g},dt:function(){return x},ht:function(){return m},it:function(){return y},jC:function(){return w},jV:function(){return S},q6:function(){return P},rO:function(){return N},rd:function(){return u},tm:function(){return c},tt:function(){return l},vx:function(){return b},x4:function(){return k}});let s="https://survey-3uf0.onrender.com",n="api/user/getUser",a="api/user/getAllUsers",o="api/user/addUsers",u="api/user/addMultipleUsers",i="api/user/updateUsers",c="api/chatroom/getAllChatsData",l="api/user/getAllKaryakarta",d="api/user/getKaryakarta",m="api/user/createKaryakarta",g="api/user/updateKaryakarta",p="api/survey/saveSurvey",f="api/survey/updateSurvey",h="api/survey/getSurvey",x="api/survey/deleteSurvey",y="api/survey/getAllSurveys",b="api/response/saveResponses",v="api/response/getAllSurveyResponses",w="api/response/getAllResponses",j="api/response/getSurveyResponseStats",N=["Contact Form","Address"],k="api/auth/login",S="api/auth/forgotPassword",P="api/auth/resetPassword"}},function(e){e.O(0,[8472,3004,7583,2971,7023,1744],function(){return e(e.s=20808)}),_N_E=e.O()}]);