(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4754],{40918:function(e,t,a){Promise.resolve().then(a.bind(a,66537))},4815:function(e,t,a){"use strict";var n=a(2265),r=a(38936),l=a(65530),o=function(){return(o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},s=[(0,l.i)("PropagateLoader","25% {transform: translateX(-".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(5,"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-0"),(0,l.i)("PropagateLoader","25% {transform: translateX(-".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(3,"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-1"),(0,l.i)("PropagateLoader","25% {transform: translateX(-".concat(1,"rem) scale(0.75)}\n    75% {transform: translateX(-").concat(1,"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-2"),(0,l.i)("PropagateLoader","25% {transform: translateX(".concat(1,"rem) scale(0.75)}\n    75% {transform: translateX(").concat(1,"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-3"),(0,l.i)("PropagateLoader","25% {transform: translateX(".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(").concat(3,"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-4"),(0,l.i)("PropagateLoader","25% {transform: translateX(".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(").concat(5,"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-5")];t.Z=function(e){var t=e.loading,a=e.color,l=void 0===a?"#000000":a,c=e.speedMultiplier,u=void 0===c?1:c,d=e.cssOverride,p=e.size,m=i(e,["loading","color","speedMultiplier","cssOverride","size"]),f=(0,r.h)(void 0===p?15:p),g=f.value,h=f.unit,v=o({display:"inherit",position:"relative"},void 0===d?{}:d),y=function(e){return{position:"absolute",fontSize:"".concat(g/3).concat(h),width:"".concat(g).concat(h),height:"".concat(g).concat(h),background:l,borderRadius:"50%",animation:"".concat(s[e]," ").concat(1.5/u,"s infinite"),animationFillMode:"forwards"}};return void 0===t||t?n.createElement("span",o({style:v},m),n.createElement("span",{style:y(0)}),n.createElement("span",{style:y(1)}),n.createElement("span",{style:y(2)}),n.createElement("span",{style:y(3)}),n.createElement("span",{style:y(4)}),n.createElement("span",{style:y(5)})):null}},65530:function(e,t,a){"use strict";a.d(t,{i:function(){return n}});var n=function(e,t,a){var n="react-spinners-".concat(e,"-").concat(a);if("undefined"==typeof window||!window.document)return n;var r=document.createElement("style");document.head.appendChild(r);var l=r.sheet,o="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return l&&l.insertRule(o,0),n}},38936:function(e,t,a){"use strict";a.d(t,{E:function(){return l},h:function(){return r}});var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"==typeof e)return{value:e,unit:"px"};var t,a=(e.match(/^[0-9.]*/)||"").toString();t=a.includes(".")?parseFloat(a):parseInt(a,10);var r=(e.match(/[^0-9]*$/)||"").toString();return n[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function l(e){var t=r(e);return"".concat(t.value).concat(t.unit)}},80106:function(e,t,a){"use strict";var n=a(57437),r=a(4815);t.Z=function(e){let{className:t}=e;return(0,n.jsx)("div",{className:"fixed top-0 left-0 bg-black/60 h-screen w-screen flex justify-center items-center overflow-hidden z-50 ",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-10",children:[(0,n.jsx)(r.Z,{speedMultiplier:1.25,color:"#FF8437"}),(0,n.jsx)("h3",{className:"text-white font-semibold",children:"Loading, please wait..."})]})})}},66537:function(e,t,a){"use strict";a.d(t,{default:function(){return g}});var n=a(57437),r=a(2265),l=a(1633),o=a(38472);let i=async e=>{console.log("params from network --- >",e);try{let t=localStorage.getItem("token"),a={method:"GET",url:"".concat(l.M6,"/").concat(l.a_),params:e,headers:{Authorization:"Bearer ".concat(t)}};return(await o.Z.request(a)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}};var s=a(37346),c=e=>{let{barChartData:t,title:a}=e,[l,o]=(0,r.useState)("daily"),[i,c]=(0,r.useState)("bar"),u="#f7a572",d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:"".concat(a," (").concat(l.charAt(0).toUpperCase()+l.slice(1),")")}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0}}},p=t[l],m=p?{...p,datasets:p.datasets.map(e=>({...e,backgroundColor:u,borderColor:u,borderWidth:1}))}:null;return(0,n.jsxs)("div",{className:"w-full h-full",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:a}),(0,n.jsxs)("div",{className:"flex gap-5 mb-4",children:[(0,n.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border rounded-md",children:[(0,n.jsx)("option",{value:"bar",children:"Bar Chart"}),(0,n.jsx)("option",{value:"line",children:"Line Chart"})]}),(0,n.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border rounded-md",children:[(0,n.jsx)("option",{value:"daily",children:"Daily"}),(0,n.jsx)("option",{value:"weekly",children:"Weekly"}),(0,n.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,n.jsxs)("div",{className:"relative w-full h-[400px]",children:[" ",m?"bar"===i?(0,n.jsx)(s.$Q,{data:m,options:d}):p&&(0,n.jsx)(s.x1,{data:p,options:d}):(0,n.jsx)("p",{children:"No data available for the selected timeframe."})]})]})},u=a(55211),d=a(95650),p=function(e){let{data:t}=e;return(0,n.jsxs)("div",{className:"w-full rounded-[25px] flex flex-col gap-4 bg-white shadow-md p-5",children:[(0,n.jsx)("h3",{className:"text-[20px] font-bold",children:"Recent Logs and Ratings"}),(0,n.jsxs)("div",{className:"rounded-[25px] flex flex-col gap-4 bg-lighter-gray h-[50vh] p-4 w-full border-2 vertical-scrollbar-orange overflow-y-scroll",children:[(0,n.jsxs)("div",{className:"grid grid-cols-5 w-full text-[13px] font-semibold place-items-center border-b pb-2",children:[(0,n.jsx)("p",{children:"Comment"}),(0,n.jsx)("p",{children:"Response ID"}),(0,n.jsx)("p",{children:"User"}),(0,n.jsx)("p",{children:"Rating"}),(0,n.jsx)("p",{children:"Created At"})]}),t.length>0?t.map(e=>(0,n.jsxs)("div",{className:"cursor-pointer grid grid-cols-5 w-full place-items-center text-[13px] py-2 hover:bg-gray-100 rounded-md",children:[(0,n.jsx)("p",{children:(0,d.aF)(e.comment,20)}),(0,n.jsx)("p",{children:(0,d.aF)(e.response_id,10)}),(0,n.jsx)("p",{children:(0,d.aF)(e.user.name,20)}),(0,n.jsx)("p",{className:"text-center font-semibold ".concat("positive"===e.rating?"text-green-500":"negative"===e.rating?"text-red-500":"text-amber-500"),children:e.rating||"N/A"}),(0,n.jsx)("p",{className:"text-dark-gray",children:(0,d.p6)(e.createdAt)})]},e._id)):(0,n.jsx)("p",{className:"text-center text-dark-gray",children:"No recent logs or ratings available."})]})]})},m=a(80106);u.kL.register(u.Dx,u.u,u.De,u.wL,u.qi,u.uw,u.f$,u.ZL,u.jn,u.od,u.Gu);let f={responsive:!1,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,pointStyle:"circle"}}}};var g=function(){let[e,t]=(0,r.useState)(null),[a,l]=(0,r.useState)(0),[o,u]=(0,r.useState)({daily:null,weekly:null,monthly:null}),[d,g]=(0,r.useState)({daily:null,weekly:null,monthly:null}),[h,v]=(0,r.useState)({daily:null,weekly:null,monthly:null}),[y,x]=(0,r.useState)({daily:null,weekly:null,monthly:null}),[b,R]=(0,r.useState)([]),[w,j]=(0,r.useState)(!1);async function C(){j(!0);try{var e,a;let n=await i();console.log(n);let r=n.data;if((null==r?void 0:null===(a=r.ratingCount)||void 0===a?void 0:null===(e=a[0])||void 0===e?void 0:e.totalRatings)&&l(r.ratingCount[0].totalRatings),null==r?void 0:r.totalCallRatings){let e=r.totalCallRatings.map(e=>e._id),a=r.totalCallRatings.map(e=>e.count);t({labels:e,datasets:[{label:"Ratings",data:a,borderWidth:1}]})}(null==r?void 0:r.positiveDailyRatingCount)&&u({daily:{labels:r.positiveDailyRatingCount.map(e=>e._id),datasets:[{label:"Good Ratings",data:r.positiveDailyRatingCount.map(e=>e.count)}]},weekly:{labels:r.positiveWeeklyRatingCount.map(e=>e._id),datasets:[{label:"Good Ratings",data:r.positiveWeeklyRatingCount.map(e=>e.count)}]},monthly:{labels:r.positiveMonthlyRatingCount.map(e=>"".concat(e._id.month,"-").concat(e._id.year)),datasets:[{label:"Good Ratings",data:r.positiveMonthlyRatingCount.map(e=>e.count)}]}}),(null==r?void 0:r.negativeDailyRatingCount)&&g({daily:{labels:r.negativeDailyRatingCount.map(e=>e._id),datasets:[{label:"Bad Ratings",data:r.negativeDailyRatingCount.map(e=>e.count)}]},weekly:{labels:r.negativeWeeklyRatingCount.map(e=>e._id),datasets:[{label:"Bad Ratings",data:r.negativeWeeklyRatingCount.map(e=>e.count)}]},monthly:{labels:r.negativeMonthlyRatingCount.map(e=>"".concat(e._id.month,"-").concat(e._id.year)),datasets:[{label:"Bad Ratings",data:r.negativeMonthlyRatingCount.map(e=>e.count)}]}}),(null==r?void 0:r.neutralDailyRatingCount)&&v({daily:{labels:r.neutralDailyRatingCount.map(e=>e._id),datasets:[{label:"Great Ratings",data:r.neutralDailyRatingCount.map(e=>e.count)}]},weekly:{labels:r.neutralWeeklyRatingCount.map(e=>e._id),datasets:[{label:"Great Ratings",data:r.neutralWeeklyRatingCount.map(e=>e.count)}]},monthly:{labels:r.neutralMonthlyRatingCount.map(e=>"".concat(e._id.month,"-").concat(e._id.year)),datasets:[{label:"Great Ratings",data:r.neutralMonthlyRatingCount.map(e=>e.count)}]}}),(null==r?void 0:r.overallDailyRatingCount)&&x({daily:{labels:r.overallDailyRatingCount.map(e=>e._id),datasets:[{label:"Overall Ratings",data:r.overallDailyRatingCount.map(e=>e.count)}]},weekly:{labels:r.overallWeeklyRatingCount.map(e=>e._id),datasets:[{label:"Overall Ratings",data:r.overallWeeklyRatingCount.map(e=>e.count)}]},monthly:{labels:r.overallMonthlyRatingCount.map(e=>"".concat(e._id.month,"-").concat(e._id.year)),datasets:[{label:"Overall Ratings",data:r.overallMonthlyRatingCount.map(e=>e.count)}]}}),(null==r?void 0:r.recentCallRatings)&&R(r.recentCallRatings)}catch(e){console.error("Error fetching dashboard data:",e)}finally{j(!1)}}return((0,r.useEffect)(()=>{C()},[]),w)?(0,n.jsx)(m.Z,{}):(0,n.jsxs)("div",{className:"p-4 flex flex-col gap-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"VRM Team manager Dashboard"}),(0,n.jsxs)("div",{className:"flex gap-6 rounded-lg",children:[e?(0,n.jsxs)("div",{className:"w-1/2 bg-white p-4 rounded-xl flex flex-col items-center border-2",children:[(0,n.jsxs)("div",{className:"cursor-pointer flex justify-between items-center border-2 shadow-md rounded-[25px] px-10 py-10 bg-white w-full",children:[(0,n.jsx)("h2",{className:"text-[20px] font-bold",children:"Total Ratings"}),(0,n.jsx)("img",{src:"/images/right.png",className:"h-3"}),(0,n.jsx)("h2",{className:"text-[20px] font-bold",children:a})]}),(0,n.jsx)(s.by,{data:e,options:f,width:300,height:300})]}):null,y&&(0,n.jsx)("div",{className:"w-1/2 bg-white p-4 rounded-xl border-2",children:(0,n.jsx)(c,{title:"Overall Ratings",barChartData:y})})]}),b&&(0,n.jsx)(p,{data:b}),(0,n.jsxs)("div",{className:"flex gap-6",children:[o&&(0,n.jsx)("div",{className:"w-1/2 bg-white p-4 rounded-xl border-2",children:(0,n.jsx)(c,{title:"Positive Ratings",barChartData:o})}),d&&(0,n.jsx)("div",{className:"w-1/2 bg-white p-4 rounded-xl border-2",children:(0,n.jsx)(c,{title:"Negative Ratings",barChartData:d})})]}),h&&(0,n.jsx)("div",{className:"w-1/2 bg-white p-4 rounded-xl border-2",children:(0,n.jsx)(c,{title:"Neutral Ratings",barChartData:h})})]})}},95650:function(e,t,a){"use strict";a.d(t,{Sg:function(){return o},aF:function(){return l},a_:function(){return i},mr:function(){return s},p6:function(){return r}});let n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function r(e){let t=new Date(e),a=String(t.getDate()).padStart(2,"0"),r=n[t.getMonth()],l=t.getFullYear();return"".concat(a,"-").concat(r,"-").concat(l)}function l(e,t){return e.length>t?e.slice(0,t)+"...":e}function o(e){let t=new Date(e),a=String(t.getDate()).padStart(2,"0"),r=n[t.getMonth()];return"".concat(a," ").concat(r)}function i(){{let e=localStorage.getItem("jwt");return e?JSON.parse(atob(e.split(".")[1])):null}}let s=e=>{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(t)}},1633:function(e,t,a){"use strict";a.d(t,{A5:function(){return w},Dy:function(){return R},EK:function(){return c},GR:function(){return V},Gb:function(){return M},HA:function(){return S},L5:function(){return _},M6:function(){return n},ND:function(){return G},Ny:function(){return W},Pn:function(){return f},RJ:function(){return z},SR:function(){return l},TK:function(){return b},Tp:function(){return r},Tv:function(){return o},UY:function(){return I},VH:function(){return K},VJ:function(){return D},Vy:function(){return p},Wy:function(){return et},XP:function(){return Y},Yn:function(){return h},ZL:function(){return ea},aA:function(){return el},a_:function(){return $},af:function(){return en},d1:function(){return B},dJ:function(){return q},dt:function(){return j},hE:function(){return x},ht:function(){return g},il:function(){return er},it:function(){return C},jC:function(){return k},jV:function(){return E},ls:function(){return H},mW:function(){return F},nM:function(){return J},pQ:function(){return eo},pX:function(){return v},py:function(){return ee},q6:function(){return P},qJ:function(){return y},ql:function(){return U},r1:function(){return L},rO:function(){return X},rd:function(){return i},sC:function(){return s},sI:function(){return O},sN:function(){return d},tm:function(){return u},tt:function(){return m},vx:function(){return N},wK:function(){return Q},we:function(){return Z},x4:function(){return A},xD:function(){return T}});let n="https://survey-3uf0.onrender.com",r="api/user/getUser",l="api/user/getAllUsers",o="api/user/addUsers",i="api/user/addMultipleUsers",s="api/user/updateUser",c="api/user/updateUsers",u="api/chatroom/getAllChatsData",d="api/user/getSupervisorCollectors",p="api/user/assignBooth",m="api/user/getAllKaryakarta",f="api/user/getKaryakarta",g="api/user/createKaryakarta",h="api/user/updateKaryakarta",v="api/user/getUsersByAcList",y="api/user/updateMultipleKaryakarta",x="api/user/importKaryakartas",b="api/survey/saveSurvey",R="api/survey/updateSurvey",w="api/survey/getSurvey",j="api/survey/deleteSurvey",C="api/survey/getAllSurveys",N="api/response/saveResponses",S="api/response/getAllSurveyResponses",k="api/response/getAllResponses",D="api/response/getSurveyResponseStats",_="api/response/updateResponse",M="api/response/saveQualityRemark",X=["Contact Form","Address"],O="api/dashboard",A="api/auth/login",E="api/auth/forgotPassword",P="api/auth/resetPassword",L="api/auth/adminLogin",W="api/role/allRoles",F="api/role/roles",U="api/role/create",G="api/role/update",K="api/role/delete",J="api/todo/create",T="api/todo/todo",Z="api/todo/todos",B="api/todo/update",I="api/todo/delete",V="api/sampling/assign-sample-responses",q="api/sampling/sample-responses",z="api/sampling/sample-surveys",Q="api/sampling/groups",Y="api/sampling/delete",$="api/call-rating/dashboard",H="675985aaa6b36c1fa78d5517",ee="671f997d38863c2bfc859e76",et="675a92c24bbe3577d16bcb64",ea="67713c803e1c10c39195a9cc",en="67713c9a3e1c10c39195a9ce",er="671f99d938863c2bfc859e7f",el="6793cb217ad0c3539d615831",eo=["Supervisor","Panna Pramukh","Survey Manager","Quality Check","Data Analyst","Data Manager","Support Executive","VRM Team Manager"]}},function(e){e.O(0,[7674,8472,5746,2971,7023,1744],function(){return e(e.s=40918)}),_N_E=e.O()}]);