(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{234:function(e,s,r){Promise.resolve().then(r.bind(r,7110))},7110:function(e,s,r){"use strict";r.r(s);var n=r(7437),a=r(6965),c=r(274),t=r(6463),l=r(2265),d=r(9343),o=r(8726);function i(){let[e,s]=(0,l.useState)(!1),r=(0,t.useSearchParams)().get("name"),i=(0,t.useRouter)(),{register:u,handleSubmit:m,setValue:x,formState:{errors:p,isSubmitting:h}}=(0,d.cI)();async function f(e){let r=new FormData;for(let s in e)"welcome_image"!==s&&"thankyou_image"!==s&&r.append(s,e[s]);e.welcome_image&&e.welcome_image[0]&&r.append("welcome_image",e.welcome_image[0]),e.thankyou_image&&e.thankyou_image[0]&&r.append("thankyou_image",e.thankyou_image[0]),r.append("created_by","rohitchand490@gmail.com"),s(!0);try{let e=await (0,c.Vb)(r);console.log(e),e.success?(o.ZP.success("Survey created successfully!"),i.push("/admin/surveys/questions?id=".concat(e.survey._id,"&created_by=").concat(encodeURIComponent(e.survey.created_by)))):o.ZP.error("Failed to create survey.")}catch(e){o.ZP.error("Something went wrong.")}finally{s(!1)}}return(0,l.useEffect)(()=>{r&&x("name",r)},[]),(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsx)("header",{className:"w-full h-16 border-2",children:(0,n.jsx)("div",{className:"bg-secondary-100 h-full w-full px-8 py-3 flex justify-between items-center",children:(0,n.jsx)("h3",{className:"text-secondary-300",children:"Create Surveys"})})}),(0,n.jsxs)("form",{className:"grid grid-cols-2 m-10",onSubmit:m(f),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,n.jsxs)("div",{className:"grid grid-cols-3",children:[(0,n.jsx)("label",{className:"text-secondary-300 font-medium",children:"Name"}),(0,n.jsx)("input",{value:r||"",disabled:!0,...u("name"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3",children:[(0,n.jsx)("label",{className:"text-secondary-300 font-medium",children:"Header text"}),(0,n.jsx)("input",{...u("header_text"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3",children:[(0,n.jsx)("label",{className:"text-secondary-300 font-medium",children:"Welcome image"}),(0,n.jsx)("div",{className:"col-span-2",children:(0,n.jsxs)("label",{className:"flex items-center justify-center w-[352px] h-[41px] rounded-md cursor-pointer hover:bg-secondary-50",children:[(0,n.jsxs)("div",{className:"flex gap-2 bg-white h-full w-full",children:[(0,n.jsx)("div",{className:"h-full w-full bg-secondary-200 rounded-md"}),(0,n.jsx)("p",{className:"border border-secondary-200 text-secondary-300 h-full w-[35%] rounded-md flex items-center justify-center text-[14px]",children:"Choose file"})]}),(0,n.jsx)("input",{...u("welcome_image"),type:"file",className:"hidden"})]})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3",children:[(0,n.jsx)("label",{className:"text-secondary-300 font-medium",children:"Thank you image"}),(0,n.jsx)("div",{className:"col-span-2",children:(0,n.jsxs)("label",{className:"flex items-center justify-center w-[352px] h-[41px] rounded-md cursor-pointer hover:bg-secondary-50",children:[(0,n.jsxs)("div",{className:"flex gap-2 bg-white h-full w-full",children:[(0,n.jsx)("div",{className:"h-full w-full bg-secondary-200 rounded-md"}),(0,n.jsx)("p",{className:"border border-secondary-200 text-secondary-300 h-full w-[35%] rounded-md flex items-center justify-center text-[14px]",children:"Choose file"})]}),(0,n.jsx)("input",{...u("thankyou_image"),type:"file",className:"hidden"})]})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3",children:[(0,n.jsx)("label",{className:"text-secondary-300 font-medium",children:"Time duration"}),(0,n.jsx)("input",{...u("thank_time_duration"),type:"number",className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,n.jsxs)("div",{className:"grid grid-cols-3",children:[(0,n.jsx)("label",{className:"text-secondary-300 font-medium",children:"Access pin"}),(0,n.jsx)("input",{...u("access_pin"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3",children:[(0,n.jsx)("label",{className:"text-secondary-300 font-medium",children:"Background location capture"}),(0,n.jsx)("input",{type:"number",...u("background_location_capture"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]})]}),(0,n.jsxs)("div",{className:"col-span-2 flex gap-4 justify-center mt-[10%]",children:[(0,n.jsx)(a.Z,{className:"px-4 py-[10px] w-[95px]",children:"Save"}),(0,n.jsx)("button",{type:"button",className:"px-4 py-[10px] w-[95px] border border-secondary-200 rounded-md text-secondary-300",children:"Cancel"})]})]})]})}s.default=()=>(0,n.jsx)(l.Suspense,{children:(0,n.jsx)(i,{})})},6965:function(e,s,r){"use strict";var n=r(7437);r(2265);var a=r(6164);s.Z=function(e){let{children:s,className:r,onClick:c}=e;return(0,n.jsx)("button",{onClick:c,className:(0,a.m6)("border text-white bg-primary-300 px-4 py-2 rounded-md",r),children:s})}},274:function(e,s,r){"use strict";r.d(s,{Vb:function(){return c},ez:function(){return t},tB:function(){return l}});var n=r(1633),a=r(8472);let c=async e=>{try{let s={method:"POST",url:"".concat(n.M6,"/").concat(n.TK),data:e};return(await a.Z.request(s)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},t=async e=>{try{let s={method:"POST",url:"".concat(n.M6,"/").concat(n.Dy,"?_id=").concat(e._id),data:e};return(await a.Z.request(s)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{let e={method:"GET",url:"".concat(n.M6,"/").concat(n.it,"?created_by=","rohitchand490@gmail.com")},s=await a.Z.request(e);return console.log(s),s.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},1633:function(e,s,r){"use strict";r.d(s,{Dy:function(){return l},M6:function(){return n},TK:function(){return t},Tv:function(){return c},Vf:function(){return a},it:function(){return d},rO:function(){return o}});let n="https://survey-3uf0.onrender.com",a="api/user/getUsers",c="api/user/addUsers",t="api/survey/saveSurvey",l="api/survey/updateSurvey",d="api/survey/getAllSurveys",o=["Contact Form","Address"]}},function(e){e.O(0,[164,236,343,726,971,23,744],function(){return e(e.s=234)}),_N_E=e.O()}]);