(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{234:function(e,s,r){Promise.resolve().then(r.bind(r,7110))},7110:function(e,s,r){"use strict";r.r(s);var a=r(7437),n=r(6965),c=r(274),l=r(6463),t=r(2265),d=r(9343),o=r(8726);function i(){let[e,s]=(0,t.useState)(!1),r=(0,l.useSearchParams)().get("name"),{register:i,handleSubmit:u,setValue:m,formState:{errors:x,isSubmitting:p}}=(0,d.cI)();async function h(e){console.log(e);let r=new FormData;for(let s in e)"welcome_image"!==s&&"thankyou_image"!==s&&r.append(s,e[s]);for(let[a,n]of(e.welcome_image&&e.welcome_image[0]&&r.append("welcome_image",e.welcome_image[0]),e.thankyou_image&&e.thankyou_image[0]&&r.append("thankyou_image",e.thankyou_image[0]),r.append("created_by","rohitchand490@gmail.com"),s(!0),r.entries()))console.log("".concat(a,":"),n);try{(await (0,c.V)(r)).success?o.ZP.success("Survey created successfully!"):o.ZP.error("Failed to create survey.")}catch(e){o.ZP.error("Something went wrong.")}finally{s(!1)}}return(0,t.useEffect)(()=>{r&&m("name",r)},[]),(0,a.jsxs)("section",{className:"w-full",children:[(0,a.jsx)("header",{className:"w-full h-16 border-2",children:(0,a.jsx)("div",{className:"bg-secondary-100 h-full w-full px-8 py-3 flex justify-between items-center",children:(0,a.jsx)("h3",{className:"text-secondary-300",children:"Create Surveys"})})}),(0,a.jsxs)("form",{className:"grid grid-cols-2 m-10",onSubmit:u(h),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("label",{className:"text-secondary-300 font-medium",children:"Name"}),(0,a.jsx)("input",{value:r||"",disabled:!0,...i("name"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("label",{className:"text-secondary-300 font-medium",children:"Header text"}),(0,a.jsx)("input",{...i("header_text"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("label",{className:"text-secondary-300 font-medium",children:"Welcome image"}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("label",{className:"flex items-center justify-center w-[352px] h-[41px] rounded-md cursor-pointer hover:bg-secondary-50",children:[(0,a.jsxs)("div",{className:"flex gap-2 bg-white h-full w-full",children:[(0,a.jsx)("div",{className:"h-full w-full bg-secondary-200 rounded-md"}),(0,a.jsx)("p",{className:"border border-secondary-200 text-secondary-300 h-full w-[35%] rounded-md flex items-center justify-center text-[14px]",children:"Choose file"})]}),(0,a.jsx)("input",{...i("welcome_image"),type:"file",className:"hidden"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("label",{className:"text-secondary-300 font-medium",children:"Thank you image"}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("label",{className:"flex items-center justify-center w-[352px] h-[41px] rounded-md cursor-pointer hover:bg-secondary-50",children:[(0,a.jsxs)("div",{className:"flex gap-2 bg-white h-full w-full",children:[(0,a.jsx)("div",{className:"h-full w-full bg-secondary-200 rounded-md"}),(0,a.jsx)("p",{className:"border border-secondary-200 text-secondary-300 h-full w-[35%] rounded-md flex items-center justify-center text-[14px]",children:"Choose file"})]}),(0,a.jsx)("input",{...i("thankyou_image"),type:"file",className:"hidden"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("label",{className:"text-secondary-300 font-medium",children:"Time duration"}),(0,a.jsx)("input",{...i("thank_time_duration"),type:"number",className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-5 w-full",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("label",{className:"text-secondary-300 font-medium",children:"Access pin"}),(0,a.jsx)("input",{...i("access_pin"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsx)("label",{className:"text-secondary-300 font-medium",children:"Background location capture"}),(0,a.jsx)("input",{type:"number",...i("background_location_capture"),className:"col-span-2 w-[352px] h-[41px] border-secondary-200 px-4 py-[10px] focus:outline-none border rounded-md"})]})]}),(0,a.jsxs)("div",{className:"col-span-2 flex gap-4 justify-center mt-[10%]",children:[(0,a.jsx)(n.Z,{className:"px-4 py-[10px] w-[95px]",children:"Save"}),(0,a.jsx)("button",{type:"button",className:"px-4 py-[10px] w-[95px] border border-secondary-200 rounded-md text-secondary-300",children:"Cancel"})]})]})]})}s.default=()=>(0,a.jsx)(t.Suspense,{children:(0,a.jsx)(i,{})})},6965:function(e,s,r){"use strict";var a=r(7437);r(2265);var n=r(6164);s.Z=function(e){let{children:s,className:r,onClick:c}=e;return(0,a.jsx)("button",{onClick:c,className:(0,n.m6)("border text-white bg-primary-300 px-4 py-2 rounded-md",r),children:s})}},274:function(e,s,r){"use strict";r.d(s,{V:function(){return c},t:function(){return l}});var a=r(1633),n=r(8472);let c=async e=>{try{let s={method:"POST",url:"".concat(a.M6,"/").concat(a.TK),data:e};return(await n.Z.request(s)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{let e={method:"GET",url:"".concat(a.M6,"/").concat(a.it,"?created_by=","rohitchand490@gmail.com")},s=await n.Z.request(e);return console.log(s),s.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},1633:function(e,s,r){"use strict";r.d(s,{M6:function(){return a},TK:function(){return l},Tv:function(){return c},Vf:function(){return n},it:function(){return t}});let a="http://localhost:6969",n="api/user/getUsers",c="api/user/addUsers",l="api/survey/saveSurvey",t="api/survey/getAllSurveys"}},function(e){e.O(0,[164,472,343,4,971,23,744],function(){return e(e.s=234)}),_N_E=e.O()}]);