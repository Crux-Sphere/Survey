(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4847],{7171:function(e,s,t){Promise.resolve().then(t.bind(t,27817))},16463:function(e,s,t){"use strict";var n=t(71169);t.o(n,"usePathname")&&t.d(s,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(s,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(s,{useSearchParams:function(){return n.useSearchParams}})},27817:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var n=t(57437),r=t(824),a=t(76965),l=t(81382),i=t(61316),c=t(16463),o=t(2265),d=t(41942),x=function(e){let{question:s,onChartTypeChange:t}=e;return(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,n.jsx)(d.ffH,{className:"cursor-pointer"}),s]}),(0,n.jsxs)("div",{className:"flex space-x-5",children:[(0,n.jsxs)("div",{className:"space-x-1",children:[(0,n.jsx)("label",{className:"text-secondary-300",children:"Chart Type:"}),(0,n.jsxs)("select",{className:"border border-secondary-200 rounded-md p-2 col-span-8 bg-white",id:"chartType",onChange:e=>t(e.target.value),children:[(0,n.jsx)("option",{value:"column",children:"Column"}),(0,n.jsx)("option",{value:"bar",children:"Bar"}),(0,n.jsx)("option",{value:"pie",children:"Pie"}),(0,n.jsx)("option",{value:"line",children:"Line"})]})]}),(0,n.jsx)(a.Z,{className:"px-4 py-2",children:"Pin to Dashboard"}),(0,n.jsxs)("div",{className:"space-x-1",children:[(0,n.jsx)("label",{className:"text-secondary-300",children:"Exclude in PDF:"}),(0,n.jsxs)("select",{className:"border border-secondary-200 rounded-md p-2 col-span-8 bg-white",id:"excludeInPDF",children:[(0,n.jsx)("option",{value:"no",children:"No"}),(0,n.jsx)("option",{value:"yes",children:"Yes"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(a.Z,{className:"px-4 py-2",children:"Export"}),(0,n.jsx)(a.Z,{className:"px-2 py-2",children:"⌄"})]})]})]})},p=t(37346),u=t(55211);u.kL.register(u.uw,u.f$,u.ZL,u.Dx,u.u,u.De,u.qi,u.od,u.jn);var h=function(e){let{responses:s,chartType:t}=e;console.log(t);let r={labels:s.map(e=>e.responseTitle),datasets:[{data:s.map(e=>e.count),backgroundColor:["#EF9595","#EFB495","#EFD595","#EBEF95","#A5DD9B","#BB9AB1","#EECEB9"],borderColor:"line"===t?"#EF9595":"",borderWidth:"line"===t?2:0}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:"pie"===t}},scales:{x:{display:"pie"!==t,ticks:{autoSkip:!1,maxRotation:0,minRotation:0}},y:{display:"pie"!==t,beginAtZero:!0}},barThickness:40};return(0,n.jsx)("div",{className:"h-[30vh] w-[70vw]",children:"bar"===t?(0,n.jsx)(p.$Q,{data:r,options:{...a,indexAxis:"x"}}):"column"===t?(0,n.jsx)(p.$Q,{data:r,options:{...a,indexAxis:"y"}}):"pie"===t?(0,n.jsx)(p.by,{data:r,options:a}):"line"===t?(0,n.jsx)(p.x1,{data:r,options:a}):void 0})},m=function(e){let{questionTitle:s,responses:t,totalResponses:r}=e,[a,l]=(0,o.useState)("column");return(0,n.jsxs)("div",{className:"flex flex-col w-full h-full bg-white p-5 mb-5 rounded-lg gap-4",children:[(0,n.jsx)(x,{question:s,onChartTypeChange:l}),(0,n.jsx)("div",{className:"flex justify-center ",children:(0,n.jsx)(h,{responses:t,chartType:a})}),(0,n.jsxs)("table",{className:"bg-white border border-gray-300",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-gray-100",children:[(0,n.jsx)("th",{className:"py-2 px-4 border-b"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b text-center",children:"Responses"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b text-center",children:"Percent"})]})}),(0,n.jsxs)("tbody",{children:[t.map((e,s)=>{let t=(100*e.count/r).toFixed(2);return(0,n.jsxs)("tr",{className:s%2==0?"bg-gray-50":"bg-white",children:[(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:e.responseTitle}),(0,n.jsx)("td",{className:"py-2 px-4 border-b text-center",children:e.count}),(0,n.jsxs)("td",{className:"py-2 px-4 border-b text-center",children:[t,"%"]})]},s)}),(0,n.jsxs)("tr",{className:"font-bold",children:[(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:"Total"}),(0,n.jsx)("td",{className:"py-2 px-4 border-b text-center",children:r}),(0,n.jsx)("td",{className:"py-2 px-4 border-b text-center",children:"100.00%"})]})]})]})]})};function j(){(0,c.useSearchParams)().get("survey_id");let[e,s]=(0,o.useState)(null),[t,d]=(0,o.useState)(null);return(0,n.jsxs)("div",{className:"w-full bg-[#ECF0FA]  font-medium ",children:[(0,n.jsxs)("nav",{className:"h-16 w-full py-3 px-8 flex justify-between font-semibold ",children:[(0,n.jsx)("div",{className:"text-my-gray-200 items-center my-auto",children:(0,n.jsxs)("p",{className:"text-sm ",children:["Analytics: ","My Survey"]})}),(0,n.jsxs)("div",{className:"flex space-x-2 text-black text-base",children:[(0,n.jsx)(l.Z,{className:"px-4 py-2",children:"Response"}),(0,n.jsx)(a.Z,{className:"px-4 py-2",children:"Analytics"}),(0,n.jsx)(l.Z,{className:"px-4 py-2",children:"Daily Report"}),(0,n.jsx)(l.Z,{className:"px-4 py-2",children:"Summary Report"}),(0,n.jsx)(l.Z,{className:"px-4 py-2",children:"Spatial Report"}),(0,n.jsx)(l.Z,{className:"px-4 py-2",children:"Scoring Report"})]})]}),(0,n.jsx)("div",{className:"p-5 font-semibold text-sm text-my-gray-200",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg flex justify-between items-center px-4",children:[(0,n.jsx)("div",{className:"p-2 h-16 flex items-center rounded-lg",children:(0,n.jsx)(i.Z,{startDate:e,endDate:t,setStartDate:s,setEndDate:d})}),(0,n.jsxs)("div",{className:"flex space-x-2 items-center text-xs",children:[(0,n.jsx)(r.Z,{className:"p-2 h-[50px] py-1 ",children:"Filters"}),(0,n.jsx)(r.Z,{className:"p-2 h-[50px] py-1 ",children:"Chat Visibility"}),(0,n.jsx)(a.Z,{className:"p-2 h-[50px] py-1 ",children:"Export All"}),(0,n.jsx)(a.Z,{className:"p-2 h-[50px]  pt-1 ",children:"⌄"})]})]})}),(0,n.jsx)("div",{className:"p-5 text-sm text-my-gray-200",children:[{questionTitle:"This is Question 1",responses:[{responseTitle:"Response 1",count:10},{responseTitle:"Response 2",count:15},{responseTitle:"Response 3",count:17}],totalResponses:42},{questionTitle:"This is Question 2",responses:[{responseTitle:"RQ 12",count:200},{responseTitle:"RQ 22",count:75},{responseTitle:"RQ 32",count:55},{responseTitle:"RQ 42",count:180}],totalResponses:510},{questionTitle:"This is Question 3",responses:[{responseTitle:"RQ 13",count:200},{responseTitle:"RQ 23",count:100}],totalResponses:300}].map((e,s)=>(0,n.jsx)(m,{questionTitle:e.questionTitle,responses:e.responses,totalResponses:e.totalResponses},s))})]})}var y=()=>(0,n.jsx)(o.Suspense,{children:(0,n.jsx)(j,{})})},824:function(e,s,t){"use strict";var n=t(57437);t(2265);var r=t(96164);s.Z=function(e){let{children:s,className:t,...a}=e;return(0,n.jsx)("button",{...a,className:(0,r.m6)("border border-primary-300 px-4 py-2 rounded-md text-primary-300 hover:text-white hover:bg-primary-300",t),children:s})}},76965:function(e,s,t){"use strict";var n=t(57437);t(2265);var r=t(96164);s.Z=function(e){let{children:s,className:t,onClick:a}=e;return(0,n.jsx)("button",{onClick:a,className:(0,r.m6)("border text-white bg-primary-300 px-4 py-2 rounded-md",t),children:s})}},81382:function(e,s,t){"use strict";var n=t(57437);t(2265);var r=t(96164);s.Z=function(e){let{children:s,className:t,onClick:a}=e;return(0,n.jsx)("button",{onClick:a,className:(0,r.m6)("border text-black bg-[#E0DCDC] rounded-lg px-4 py-2",t),children:s})}},61316:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var n=t(57437),r=t(76235),a=t(66648),l=t(36463),i=t.n(l);t(54575);var c=t(28196),o=t(96164),d=function(e){let{startDate:s,setStartDate:t,endDate:l,setEndDate:d,className:x}=e,p=e=>e?(0,r.WU)(e,"dd-MMM-yyyy"):"";return(0,n.jsxs)("div",{className:(0,o.m6)("w-fit flex font-medium text-lg px-4 py-2 items-center space-x-2 rounded-lg focus:outline-none cursor-pointer",x),children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)(a.default,{src:"/_next/static/media/survey_analytics_calender.a8f69bf6.png",alt:"calender",height:24,width:24})}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(i(),{selected:s,onChange:e=>t(e),dateFormat:"dd.MM.yyyy",scrollableYearDropdown:!0,scrollableMonthYearDropdown:!0,customInput:(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",value:s?p(s):"",onChange:e=>{console.log("inside input")},placeholder:"Select start",className:" my-2 w-[120px] text-center"})})}),(0,n.jsx)(c.OEZ,{className:"inline-block pt-1 text-2xl"}),(0,n.jsx)(i(),{selected:l,onChange:e=>d(e),dateFormat:"dd.MM.yyyy",scrollableYearDropdown:!0,scrollableMonthYearDropdown:!0,customInput:(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("input",{type:"text",value:l?p(l):"",onChange:e=>{console.log("inside input")},placeholder:"Select end",className:" my-2 w-[120px] text-center"})})})]})]})}}},function(e){e.O(0,[5223,7699,614,1544,7674,6164,4049,8143,8088,5746,2971,7023,1744],function(){return e(e.s=7171)}),_N_E=e.O()}]);