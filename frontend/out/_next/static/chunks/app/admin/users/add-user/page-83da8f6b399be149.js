(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8429],{57691:function(e,t,a){Promise.resolve().then(a.bind(a,17432))},4815:function(e,t,a){"use strict";var r=a(2265),n=a(38936),s=a(65530),c=function(){return(c=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a},l=[(0,s.i)("PropagateLoader","25% {transform: translateX(-".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(5,"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-0"),(0,s.i)("PropagateLoader","25% {transform: translateX(-".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(3,"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-1"),(0,s.i)("PropagateLoader","25% {transform: translateX(-".concat(1,"rem) scale(0.75)}\n    75% {transform: translateX(-").concat(1,"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-2"),(0,s.i)("PropagateLoader","25% {transform: translateX(".concat(1,"rem) scale(0.75)}\n    75% {transform: translateX(").concat(1,"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-3"),(0,s.i)("PropagateLoader","25% {transform: translateX(".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(").concat(3,"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-4"),(0,s.i)("PropagateLoader","25% {transform: translateX(".concat(1,"rem) scale(0.75)}\n    50% {transform: translateX(").concat(3,"rem) scale(0.6)}\n    75% {transform: translateX(").concat(5,"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-5")];t.Z=function(e){var t=e.loading,a=e.color,s=void 0===a?"#000000":a,i=e.speedMultiplier,u=void 0===i?1:i,d=e.cssOverride,m=e.size,p=o(e,["loading","color","speedMultiplier","cssOverride","size"]),h=(0,n.h)(void 0===m?15:m),f=h.value,g=h.unit,y=c({display:"inherit",position:"relative"},void 0===d?{}:d),v=function(e){return{position:"absolute",fontSize:"".concat(f/3).concat(g),width:"".concat(f).concat(g),height:"".concat(f).concat(g),background:s,borderRadius:"50%",animation:"".concat(l[e]," ").concat(1.5/u,"s infinite"),animationFillMode:"forwards"}};return void 0===t||t?r.createElement("span",c({style:y},p),r.createElement("span",{style:v(0)}),r.createElement("span",{style:v(1)}),r.createElement("span",{style:v(2)}),r.createElement("span",{style:v(3)}),r.createElement("span",{style:v(4)}),r.createElement("span",{style:v(5)})):null}},65530:function(e,t,a){"use strict";a.d(t,{i:function(){return r}});var r=function(e,t,a){var r="react-spinners-".concat(e,"-").concat(a);if("undefined"==typeof window||!window.document)return r;var n=document.createElement("style");document.head.appendChild(n);var s=n.sheet,c="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(c,0),r}},38936:function(e,t,a){"use strict";a.d(t,{E:function(){return s},h:function(){return n}});var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){if("number"==typeof e)return{value:e,unit:"px"};var t,a=(e.match(/^[0-9.]*/)||"").toString();t=a.includes(".")?parseFloat(a):parseInt(a,10);var n=(e.match(/[^0-9]*$/)||"").toString();return r[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function s(e){var t=n(e);return"".concat(t.value).concat(t.unit)}},17432:function(e,t,a){"use strict";a.r(t);var r=a(57437),n=a(2265),s=a(39343),c=a(84298),o=a(16463),l=a(60274),i=a(75290),u=a(88726),d=a(80106);function m(){let[e,t]=(0,n.useState)([]),[a,m]=(0,n.useState)(1),[p,h]=(0,n.useState)(1),[f,g]=(0,n.useState)(),[y,v]=(0,n.useState)(""),[x,w]=(0,n.useState)(null),[b,S]=(0,n.useState)([]),[j,N]=(0,n.useState)(!1),{register:W,watch:P,handleSubmit:_,setValue:k,formState:{errors:q}}=(0,s.cI)({defaultValues:f}),O=(0,o.useSearchParams)(),E=P("assigned_survey")||[],T=E.length===(null==e?void 0:e.length);(0,n.useEffect)(()=>{k("selectAll",T)},[E,k,T]),(0,n.useEffect)(()=>{w(O.get("_id")),(async()=>{try{N(!0);let e=await (0,i.F3)({category:"user"});e.success?S(e.roles):u.ZP.error("something went wrong while fetching users")}catch(e){console.error("Error fetching roles:",e)}finally{N(!1)}})()},[]);let A=(0,o.useRouter)(),M=async e=>{let t;delete e.confirm_password,x&&delete e._id,console.log("datatata::::",e),x?(e.user_id=x,t=await (0,c.eD)(e)):(console.log("add user calling"),t=await (0,c.Sh)(e)),t?(u.ZP.success("Success"),A.replace("/admin/users")):u.ZP.error("Failed")};async function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=await (0,l.tB)({page:e,filter:y,created_by:"rohitchand490@gmail.com"});h(a.totalPages),console.log("res::",a),t(a.survey)}async function X(){let e=await (0,c.PR)(x);console.log("ressese:://",e),e&&g(e)}return((0,n.useEffect)(()=>{Z(a)},[a]),(0,n.useEffect)(()=>{x&&(console.log("user_id::"),X())},[x]),(0,n.useEffect)(()=>{f&&(console.log("userData::",f),Object.keys(f).forEach(e=>{k(e,f[e])}))},[f]),j)?(0,r.jsx)(d.Z,{}):(0,r.jsxs)("div",{className:"w-full bg-my-gray-100",children:[(0,r.jsx)("nav",{className:"bg-mid-gray w-full py-3 px-8 shadow-md ",children:(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Add User"})})}),(0,r.jsx)("div",{className:"p-5 text-sm text-[#797979] bg-light-gray",children:(0,r.jsx)("div",{className:"justify-center items-center bg-lighter-gray",children:(0,r.jsxs)("form",{onSubmit:_(M),className:"border-2  shadow-lg p-6 rounded-[20px]",children:[(0,r.jsxs)("div",{className:"flex gap-10 space-x-4",children:[(0,r.jsxs)("div",{className:"w-[60%]",children:[(0,r.jsx)("div",{className:"w-full",children:[{label:"User Name",name:"username",type:"text",placeholder:"User Name"},{label:"Name",name:"name",type:"text",placeholder:"Name"},{label:"Email",name:"email",type:"email",placeholder:"Email"},{label:"Password",name:"password",type:"password",placeholder:"Password"},{label:"Confirm Password",name:"confirm_password",type:"password",placeholder:"Confirm password"}].map((e,t)=>(0,r.jsxs)("div",{className:"flex w-full space-y-2",children:[(0,r.jsx)("div",{className:"w-[20%] py-2",children:(0,r.jsx)("label",{className:"block  font-medium",children:e.label})}),(0,r.jsxs)("div",{className:"w-[80%]",children:[(0,r.jsx)("input",{disabled:!!x&&("confirm_password"===e.name||"password"===e.name),type:e.type,placeholder:e.placeholder,...W(e.name,{required:!x||"confirm_password"!==e.name}),className:"border border-gray-300 rounded-md p-3 w-full outline-none focus:ring-2 focus:ring-primary-50"}),q[e.name]&&(0,r.jsx)("p",{className:"text-red-500",children:"This field is required"})]})]},t))}),(0,r.jsxs)("div",{className:"flex space-y-2 items-center mt-3 space-x-2 w-full",children:[(0,r.jsx)("div",{className:"w-[20%] font-medium",children:"User Status"}),(0,r.jsxs)("div",{className:"w-[80%]",children:[(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>k("status","active"),className:"px-4 py-2 rounded-md ".concat("active"===P("status")?"bg-primary-300 text-white":"bg-gray-200 text-gray-700"),children:"Active"}),(0,r.jsx)("button",{type:"button",onClick:()=>k("status","inactive"),className:"px-4 py-2 rounded-md ".concat("inactive"===P("status")?"bg-primary-300 text-white":"bg-gray-200 text-gray-700"),children:"Inactive"})]}),q.status&&(0,r.jsx)("p",{className:"text-red-500 mt-2",children:"User status is required"})]})]})]}),(0,r.jsxs)("div",{className:"w-[40%]",children:[b.length>0&&(0,r.jsxs)("div",{className:"flex flex-col gap-3 w-full border-2 p-3 rounded-[20px]",children:[(0,r.jsx)("div",{className:"font-semibold text-xl",children:"Role"}),(0,r.jsxs)("div",{className:"gap-3 flex flex-col w-1/2",children:[b.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{id:e.name,type:"checkbox",value:e._id,...W("role",{required:!0}),className:"appearance-none w-4 h-4 border-2 border-primary-300 checked:bg-primary-100 checked:text-white rounded-full mt-1"}),(0,r.jsx)("label",{htmlFor:e.name,className:"font-medium cursor-pointer",children:e.name})]},e._id)),q.role&&(0,r.jsx)("p",{className:"text-red-500",children:"At least one role must be selected"})]})]}),(0,r.jsx)("div",{className:"space-y-2 mt-3 w-full rounded-[20px] border-2 p-4",children:[{label:"Auto Assign Survey",name:"auto_assign_survey"},{label:"View Own Collected Data",name:"view_own_collected_data"},{label:"Prevent Data Download",name:"prevent_data_download"},{label:"Prevent Data Analytics",name:"prevent_data_analytics"},{label:"Prevent Spatial Report",name:"prevent_spatial_report"},{label:"Remove Audio Recording Access",name:"remove_audio_recording_access"},{label:"View Pending Data",name:"view_pending_data"}].map(e=>(0,r.jsx)("div",{className:"flex items-center w-full",children:(0,r.jsxs)("div",{className:"flex space-x-2 items-center w-1/2",children:[(0,r.jsx)("input",{id:e.name,type:"checkbox",...W("".concat(e.name),{required:!1}),className:"appearance-none cursor-pointer w-4 h-4 border-2 border-primary-300 checked:bg-primary-100 checked:text-white rounded-full mt-1"}),(0,r.jsx)("label",{htmlFor:e.name,className:" font-medium cursor-pointer",children:e.label})]})},e.name))})]})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-5 mt-3",children:[(0,r.jsx)("button",{type:"submit",className:"bg-primary-300 text-white py-2 px-4 rounded-md ",children:x?"Update":"Save"}),(0,r.jsx)("button",{onClick:()=>A.back(),type:"button",className:"bg-white border-[#7C7C7C] border-2  py-2 px-4 rounded-md ",children:"Cancel"})]})]})})})]})}t.default=()=>(0,r.jsx)(n.Suspense,{children:(0,r.jsx)(m,{})})},80106:function(e,t,a){"use strict";var r=a(57437),n=a(4815);t.Z=function(e){let{className:t}=e;return(0,r.jsx)("div",{className:"fixed top-0 left-0 bg-black/60 h-screen w-screen flex justify-center items-center overflow-hidden z-50 ",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-10",children:[(0,r.jsx)(n.Z,{speedMultiplier:1.25,color:"#FF8437"}),(0,r.jsx)("h3",{className:"text-white font-semibold",children:"Loading, please wait..."})]})})}},75290:function(e,t,a){"use strict";a.d(t,{F3:function(){return c},Rd:function(){return i},fA:function(){return o},ul:function(){return l},xJ:function(){return s}});var r=a(1633),n=a(38472);let s=async()=>{try{let e={method:"GET",url:"".concat(r.M6,"/").concat(r.Ny)},t=await n.Z.request(e);return console.log("response --->",t),t.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},c=async e=>{try{let t={method:"GET",url:"".concat(r.M6,"/").concat(r.mW),params:e},a=await n.Z.request(t);return console.log("response --->",a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},o=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.ql),data:e},a=await n.Z.request(t);return console.log("response --->",a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.ND),data:e},a=await n.Z.request(t);return console.log("response --->",a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},i=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.VH),data:e},a=await n.Z.request(t);return console.log("response --->",a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},60274:function(e,t,a){"use strict";a.d(t,{Gn:function(){return u},LA:function(){return i},Vb:function(){return s},a2:function(){return l},ez:function(){return c},tB:function(){return o}});var r=a(1633),n=a(38472);let s=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.TK),headers:{"Content-Type":"application/json"},data:e},a=await n.Z.request(t);return console.log(a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},c=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.Dy,"?_id=").concat(e._id),headers:{"Content-Type":"application/json"},data:e.formData};return(await n.Z.request(t)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},o=async e=>{try{let t=e.page||1,a=e.limit||10,s=e.filter||"",c=e.created_by,o=e.sortBy,l=e.sortOrder,i=e.published;"published"===e.published?i=!0:"unpublished"===e.published?i=!1:"all"===e.published&&(i=void 0);let u={method:"GET",url:"".concat(r.M6,"/").concat(r.it,"?filter=").concat(s,"&page=").concat(t,"&limit=").concat(a,"&sortBy=").concat(o,"&sortOrder=").concat(l,"&published=").concat(i,"&created_by=").concat(c)},d=await n.Z.request(u);return console.log("response from networks---->",d),d.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{e.page,e.limit,e.filter,e.created_by,e.sortBy,e.sortOrder,e.published,"published"===e.published||"unpublished"===e.published||e.published;let t={method:"GET",url:"".concat(r.M6,"/").concat(r.VJ),params:{survey_id:e.survey_id,filters:e.filters}},a=await n.Z.request(t);return console.log(a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},i=async e=>{try{let t={method:"GET",url:"".concat(r.M6,"/").concat(r.A5,"?_id=").concat(e._id)};return(await n.Z.request(t)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},u=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.dt),data:e},a=await n.Z.request(t);return console.log(a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},84298:function(e,t,a){"use strict";a.d(t,{AW:function(){return l},GK:function(){return c},PR:function(){return o},Pl:function(){return p},Sh:function(){return i},TJ:function(){return u},W6:function(){return g},WC:function(){return m},Yx:function(){return y},eD:function(){return s},qq:function(){return f},sE:function(){return h},sm:function(){return d}});var r=a(1633),n=a(38472);let s=async e=>{try{let t=localStorage.getItem("token"),a={method:"POST",url:"".concat(r.M6,"/").concat(r.sC),headers:{Authorization:"Bearer ".concat(t)},data:e};return(await n.Z.request(a)).data.success}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},c=async e=>{try{let t=localStorage.getItem("token"),a={method:"POST",url:"".concat(r.M6,"/").concat(r.EK),headers:{Authorization:"Bearer ".concat(t)},data:e};return(await n.Z.request(a)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},o=async e=>{try{let t=localStorage.getItem("token"),a={method:"GET",url:"".concat(r.M6,"/").concat(r.Tp,"?userId=").concat(e),headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(a)).data.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{var t;let a=localStorage.getItem("token"),s={method:"GET",url:"".concat(r.M6,"/").concat(r.SR),params:{filter:e.searchBarInput||"",getWithProfilePicture:null!==(t=e.withProfilePic)&&void 0!==t&&t,role:e.selectedRole||"",page:e.page,limit:e.limit},headers:{Authorization:"Bearer ".concat(a)}};return(await n.Z.request(s)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},i=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.Tv),data:e};console.log(t);let a=await n.Z.request(t);return console.log(a),a.data.success}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},u=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.rd),data:e},a=await n.Z.request(t);return console.log(a),a.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},d=async e=>{try{let t={method:"GET",url:"".concat(r.M6,"/").concat(r.tm),params:{filter:e.searchBarInput,role:e.selectedRole,currentUserId:e.currentUserId,page:e.page,limit:e.limit}};return(await n.Z.request(t)).data}catch(e){return{success:!1,message:"Something Went Wrong while getting all chats data",error:e}}},m=async e=>{try{let t=localStorage.getItem("token"),a={method:"GET",url:"".concat(r.M6,"/").concat(r.tt),params:{filter:e.searchBarInput||"",role:e.role||"",page:e.page,limit:e.limit},headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(a)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},p=async e=>{try{let t=localStorage.getItem("token"),a={method:"POST",url:"".concat(r.M6,"/").concat(r.ht),data:e,headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(a)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},h=async e=>{try{let t=localStorage.getItem("token"),a={method:"POST",url:"".concat(r.M6,"/").concat(r.Yn),data:e,headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(a)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},f=async e=>{try{let t=localStorage.getItem("token"),a={method:"POST",url:"".concat(r.M6,"/").concat(r.qJ),data:e,headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(a)).data}catch(e){return console.log("error in network",e),{success:!1,message:e.response.data.message,error:e}}},g=async e=>{try{let t=localStorage.getItem("token"),a={method:"GET",url:"".concat(r.M6,"/").concat(r.Pn,"?id=").concat(e),headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(a)).data.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},y=async e=>{try{let t=localStorage.getItem("token"),a={method:"POST",url:"".concat(r.M6,"/").concat(r.pX),headers:{Authorization:"Bearer ".concat(t)},data:e};return(await n.Z.request(a)).data.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},1633:function(e,t,a){"use strict";a.d(t,{A5:function(){return x},Dy:function(){return v},EK:function(){return i},HA:function(){return j},M6:function(){return r},ND:function(){return Z},Ny:function(){return T},Pn:function(){return m},SR:function(){return s},TK:function(){return y},Tp:function(){return n},Tv:function(){return c},UY:function(){return D},VH:function(){return X},VJ:function(){return W},Yn:function(){return h},d1:function(){return B},dt:function(){return w},ht:function(){return p},it:function(){return b},jC:function(){return N},jV:function(){return q},mW:function(){return A},nM:function(){return C},pX:function(){return f},q6:function(){return O},qJ:function(){return g},ql:function(){return M},r1:function(){return E},rO:function(){return P},rd:function(){return o},sC:function(){return l},sI:function(){return _},tm:function(){return u},tt:function(){return d},vx:function(){return S},we:function(){return R},x4:function(){return k},xD:function(){return I}});let r="https://survey-3uf0.onrender.com",n="api/user/getUser",s="api/user/getAllUsers",c="api/user/addUsers",o="api/user/addMultipleUsers",l="api/user/updateUser",i="api/user/updateUsers",u="api/chatroom/getAllChatsData",d="api/user/getAllKaryakarta",m="api/user/getKaryakarta",p="api/user/createKaryakarta",h="api/user/updateKaryakarta",f="api/user/getUsersByAcList",g="api/user/updateMultipleKaryakarta",y="api/survey/saveSurvey",v="api/survey/updateSurvey",x="api/survey/getSurvey",w="api/survey/deleteSurvey",b="api/survey/getAllSurveys",S="api/response/saveResponses",j="api/response/getAllSurveyResponses",N="api/response/getAllResponses",W="api/response/getSurveyResponseStats",P=["Contact Form","Address"],_="api/dashboard",k="api/auth/login",q="api/auth/forgotPassword",O="api/auth/resetPassword",E="api/auth/adminLogin",T="api/role/allRoles",A="api/role/roles",M="api/role/create",Z="api/role/update",X="api/role/delete",C="api/todo/create",I="api/todo/todo",R="api/todo/todos",B="api/todo/update",D="api/todo/delete"}},function(e){e.O(0,[8472,3004,9343,2971,7023,1744],function(){return e(e.s=57691)}),_N_E=e.O()}]);