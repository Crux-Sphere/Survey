(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8429],{95833:function(e,t,r){Promise.resolve().then(r.bind(r,17432))},65530:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});var a=function(e,t,r){var a="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return a;var n=document.createElement("style");document.head.appendChild(n);var s=n.sheet,c="\n    @keyframes ".concat(a," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(c,0),a}},38936:function(e,t,r){"use strict";r.d(t,{E:function(){return s},h:function(){return n}});var a={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var n=(e.match(/[^0-9]*$/)||"").toString();return a[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function s(e){var t=n(e);return"".concat(t.value).concat(t.unit)}},17432:function(e,t,r){"use strict";r.r(t);var a=r(57437),n=r(2265),s=r(39343),c=r(84298),o=r(16463),u=r(75290),i=r(88726),l=r(80106),d=r(1633),m=r(77902);function p(){let e;let[t,r]=(0,n.useState)(),[p,h]=(0,n.useState)(null),[f,g]=(0,n.useState)([]),[y,x]=(0,n.useState)(!1),[w,v]=(0,n.useState)(null),[S,b]=(0,n.useState)(!1),{register:j,watch:N,handleSubmit:W,setValue:P,control:k,formState:{errors:Z}}=(0,s.cI)({defaultValues:t}),q=(0,o.useSearchParams)(),T=N("role"),A=N("supervisor");f.length>0&&(e=f.find(e=>"Survey Collector"===e.name)._id),console.log("supervisor selected is ---->",A),(0,n.useEffect)(()=>{h(q.get("_id")),(async()=>{try{x(!0);let e=await (0,u.F3)({category:"user"}),t=await (0,c.AW)({selectedRole:d.ls});if(t.success){console.log("supervisors from response --->",t.data);let e=t.data.map(e=>({label:e.name,value:e._id}));v(e)}else i.ZP.error("Error fetching users!");e.success?g(e.roles):i.ZP.error("something went wrong while fetching users")}catch(e){console.error("Error fetching roles:",e)}finally{x(!1)}})()},[]);let M=(0,o.useRouter)(),E=async e=>{let t;if(b(!0),console.log(e),e.password){if(e.confirm_password){if(0===e.password.length){i.ZP.error("Password cannot be empty!");return}if(e.password!==e.confirm_password){i.ZP.error("Passwords do not match!");return}}else{i.ZP.error("Please confirm password!");return}}delete e.confirm_password,p&&delete e._id,console.log("datatata::::",e),p?(e.user_id=p,t=await (0,c.eD)(e)):(console.log("add user calling"),t=await (0,c.Sh)(e)),console.log("response of adding user --->",t),t.success?(i.ZP.success("Success"),M.replace("/admin/users")):t.error?i.ZP.error(t.error.response.data.message):i.ZP.error("Failed"),b(!1)};async function C(){let e=await (0,c.PR)({userId:p});console.log("ressese:://",e),e.success?r(e.data):i.ZP.error("something went wrong")}return((0,n.useEffect)(()=>{p&&(console.log("user_id::"),C())},[p]),(0,n.useEffect)(()=>{t&&(console.log("userData::",t),Object.keys(t).forEach(e=>{"password"!==e&&P(e,t[e])}))},[t]),y||S)?(0,a.jsx)(l.Z,{}):(0,a.jsxs)("div",{className:"w-full bg-my-gray-100 h-[calc(100vh-80px)]",children:[(0,a.jsx)("nav",{className:"bg-mid-gray w-full flex items-center h-20 px-4 shadow-md ",children:(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Add User"})})}),(0,a.jsx)("div",{className:"p-5 text-sm text-[#797979] bg-light-gray",children:(0,a.jsx)("div",{className:"justify-center items-center bg-lighter-gray",children:(0,a.jsxs)("form",{onSubmit:W(E),className:"border-2  shadow-lg p-6 rounded-[20px] h-full",children:[(0,a.jsxs)("div",{className:"flex gap-10 space-x-4",children:[(0,a.jsxs)("div",{className:"w-[60%]",children:[(0,a.jsxs)("div",{className:"w-full",children:[[{label:"User Name",name:"username",type:"text",placeholder:"User Name"},{label:"Name",name:"name",type:"text",placeholder:"Name"},{label:"Email",name:"email",type:"email",placeholder:"Email"},{label:"Password",name:"password",type:"password",placeholder:"Password"},{label:"Confirm Password",name:"confirm_password",type:"password",placeholder:"Confirm password"}].map((e,t)=>(0,a.jsxs)("div",{className:"flex w-full space-y-2 gap-3",children:[(0,a.jsx)("div",{className:"w-[20%] py-2",children:(0,a.jsx)("label",{className:"block  font-medium",children:e.label})}),(0,a.jsxs)("div",{className:"w-[80%]",children:[(0,a.jsx)("input",{type:e.type,placeholder:e.placeholder,...j(e.name,{required:!p||!["confirm_password","password"].includes(e.name)}),className:"border border-gray-300 rounded-md p-3 w-full outline-none focus:ring-2 focus:ring-primary-50"}),p&&"password"===e.name&&(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-bold",children:"Note: "}),"Entering a new password will result in"," ",(0,a.jsx)("strong",{children:"overriding"})," the older password. Leave the password and confirm password empty to avoid any change."]}),Z[e.name]&&(0,a.jsx)("p",{className:"text-red-500",children:"This field is required"})]})]},t)),T&&T.includes(e)&&(0,a.jsxs)("div",{className:"flex w-full space-y-2 gap-3",children:[(0,a.jsx)("div",{className:"w-[20%] py-2",children:(0,a.jsx)("label",{className:"block  font-medium",children:"Supervisor"})}),(0,a.jsxs)("div",{className:"w-[80%]",children:[(0,a.jsx)(s.Qr,{name:"supervisor",control:k,rules:{required:T.includes(e)},render:e=>{let{field:t}=e;return(0,a.jsx)(m.ZP,{...t,options:w,isSearchable:!0,value:w.find(e=>e.value===t.value),onChange:e=>{console.log("Selected value --->",e),P("supervisor",(null==e?void 0:e.value)||null)}})}}),Z.supervisor&&(0,a.jsx)("p",{className:"text-red-500",children:"This field is required"})]})]})]}),(0,a.jsxs)("div",{className:"flex space-y-2 items-center mt-3 space-x-2 w-full",children:[(0,a.jsx)("div",{className:"w-[20%] font-medium",children:"User Status"}),(0,a.jsxs)("div",{className:"w-[80%]",children:[(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>P("status","active"),className:"px-4 py-2 rounded-md ".concat("active"===N("status")?"bg-primary-300 text-white":"bg-gray-200 text-gray-700"),children:"Active"}),(0,a.jsx)("button",{type:"button",onClick:()=>P("status","inactive"),className:"px-4 py-2 rounded-md ".concat("inactive"===N("status")?"bg-primary-300 text-white":"bg-gray-200 text-gray-700"),children:"Inactive"})]}),Z.status&&(0,a.jsx)("p",{className:"text-red-500 mt-2",children:"User status is required"})]})]})]}),(0,a.jsx)("div",{className:"w-[40%]",children:f.length>0&&(0,a.jsxs)("div",{className:"flex flex-col gap-3 w-full border-2 p-3 rounded-[20px]",children:[(0,a.jsx)("div",{className:"font-semibold text-xl",children:"Role"}),(0,a.jsxs)("div",{className:"gap-3 flex flex-col w-1/2",children:[f.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{id:e.name,type:"radio",value:e._id,...j("role",{required:!0}),className:"appearance-none w-4 h-4 border-2 border-primary-300 checked:bg-primary-100 checked:text-white rounded-full mt-1"}),(0,a.jsx)("label",{htmlFor:e.name,className:"font-medium cursor-pointer",children:e.name})]},e._id)),Z.role&&(0,a.jsx)("p",{className:"text-red-500",children:"At least one role must be selected"})]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-5 mt-3",children:[(0,a.jsx)("button",{type:"submit",className:"bg-primary-300 text-white py-2 px-4 rounded-md ",children:p?"Update":"Save"}),(0,a.jsx)("button",{onClick:()=>M.back(),type:"button",className:"bg-white border-[#7C7C7C] border-2  py-2 px-4 rounded-md ",children:"Cancel"})]})]})})})]})}t.default=()=>(0,a.jsx)(n.Suspense,{children:(0,a.jsx)(p,{})})},80106:function(e,t,r){"use strict";var a=r(57437),n=r(4815);t.Z=function(e){let{className:t}=e;return(0,a.jsx)("div",{className:"fixed top-0 left-0 bg-black/60 h-screen w-screen flex justify-center items-center overflow-hidden z-50 ",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-10",children:[(0,a.jsx)(n.Z,{speedMultiplier:1.25,color:"#FF8437"}),(0,a.jsx)("h3",{className:"text-white font-semibold",children:"Loading, please wait..."})]})})}},75290:function(e,t,r){"use strict";r.d(t,{F3:function(){return c},Rd:function(){return i},fA:function(){return o},ul:function(){return u},xJ:function(){return s}});var a=r(1633),n=r(38472);let s=async()=>{try{let e={method:"GET",url:"".concat(a.M6,"/").concat(a.Ny)},t=await n.Z.request(e);return console.log("response --->",t),t.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},c=async e=>{try{let t={method:"GET",url:"".concat(a.M6,"/").concat(a.mW),params:e},r=await n.Z.request(t);return console.log("response --->",r),r.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},o=async e=>{try{let t={method:"POST",url:"".concat(a.M6,"/").concat(a.ql),data:e},r=await n.Z.request(t);return console.log("response --->",r),r.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},u=async e=>{try{let t={method:"POST",url:"".concat(a.M6,"/").concat(a.ND),data:e},r=await n.Z.request(t);return console.log("response --->",r),r.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},i=async e=>{try{let t={method:"POST",url:"".concat(a.M6,"/").concat(a.VH),data:e},r=await n.Z.request(t);return console.log("response --->",r),r.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},84298:function(e,t,r){"use strict";r.d(t,{AW:function(){return u},GK:function(){return c},J2:function(){return m},KU:function(){return w},PR:function(){return o},Pl:function(){return h},Sh:function(){return i},TJ:function(){return l},W6:function(){return y},WC:function(){return p},Yx:function(){return x},eD:function(){return s},qq:function(){return g},sE:function(){return f},sm:function(){return d},wi:function(){return v}});var a=r(1633),n=r(38472);let s=async e=>{try{let t=localStorage.getItem("token"),r={method:"POST",url:"".concat(a.M6,"/").concat(a.sC),headers:{Authorization:"Bearer ".concat(t)},data:e};return(await n.Z.request(r)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},c=async e=>{try{let t=localStorage.getItem("token"),r={method:"POST",url:"".concat(a.M6,"/").concat(a.EK),headers:{Authorization:"Bearer ".concat(t)},data:e};return(await n.Z.request(r)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},o=async e=>{try{let t=localStorage.getItem("token"),r={method:"GET",url:"".concat(a.M6,"/").concat(a.Tp),headers:{Authorization:"Bearer ".concat(t)},params:e};return(await n.Z.request(r)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},u=async e=>{console.log("params from network --- >",e);try{var t;let r=localStorage.getItem("token"),s={method:"GET",url:"".concat(a.M6,"/").concat(a.SR),params:{filter:e.searchBarInput||"",getWithProfilePicture:null!==(t=e.withProfilePic)&&void 0!==t&&t,role:e.selectedRole||"",page:e.page,limit:e.limit},headers:{Authorization:"Bearer ".concat(r)}};return(await n.Z.request(s)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},i=async e=>{try{let t={method:"POST",url:"".concat(a.M6,"/").concat(a.Tv),data:e};console.log(t);let r=await n.Z.request(t);return console.log(r),r.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{let t={method:"POST",url:"".concat(a.M6,"/").concat(a.rd),data:e},r=await n.Z.request(t);return console.log(r),r.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},d=async e=>{try{let t={method:"GET",url:"".concat(a.M6,"/").concat(a.tm),params:{filter:e.searchBarInput,role:e.selectedRole,currentUserId:e.currentUserId,page:e.page,limit:e.limit}};return(await n.Z.request(t)).data}catch(e){return{success:!1,message:"Something Went Wrong while getting all chats data",error:e}}},m=async e=>{try{let t={method:"POST",url:"".concat(a.M6,"/").concat(a.Vy),data:e},r=await n.Z.request(t);return console.log(r),r.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},p=async e=>{try{let t=localStorage.getItem("token"),r={method:"GET",url:"".concat(a.M6,"/").concat(a.tt),params:{filter:e.searchBarInput||"",role:e.role||"",page:e.page,limit:e.limit},headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(r)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},h=async e=>{try{let t=localStorage.getItem("token"),r={method:"POST",url:"".concat(a.M6,"/").concat(a.ht),data:e,headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(r)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},f=async e=>{try{let t=localStorage.getItem("token"),r={method:"POST",url:"".concat(a.M6,"/").concat(a.Yn),data:e,headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(r)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},g=async e=>{try{let t=localStorage.getItem("token"),r={method:"POST",url:"".concat(a.M6,"/").concat(a.qJ),data:e,headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(r)).data}catch(e){return console.log("error in network",e),{success:!1,message:e.response.data.message,error:e}}},y=async e=>{try{let t=localStorage.getItem("token"),r={method:"GET",url:"".concat(a.M6,"/").concat(a.Pn,"?id=").concat(e),headers:{Authorization:"Bearer ".concat(t)}};return(await n.Z.request(r)).data.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},x=async e=>{try{let t=localStorage.getItem("token"),r={method:"POST",url:"".concat(a.M6,"/").concat(a.pX),headers:{Authorization:"Bearer ".concat(t)},data:e};return(await n.Z.request(r)).data.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},w=async e=>{try{let t=localStorage.getItem("token"),r={method:"GET",url:"".concat(a.M6,"/").concat(a.sN),headers:{Authorization:"Bearer ".concat(t)},params:e},s=await n.Z.request(r);return console.log("from network--->",s),s.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},v=async e=>{try{let t=localStorage.getItem("token"),r={method:"POST",url:"".concat(a.M6,"/").concat(a.hE),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"},data:e},s=await n.Z.request(r);return console.log("from network--->",s),s.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},1633:function(e,t,r){"use strict";r.d(t,{A5:function(){return b},Dy:function(){return S},EK:function(){return i},GR:function(){return V},Gb:function(){return T},HA:function(){return P},L5:function(){return q},M6:function(){return a},ND:function(){return U},Ny:function(){return _},Pn:function(){return h},RJ:function(){return Q},SR:function(){return s},TK:function(){return v},Tp:function(){return n},Tv:function(){return c},UY:function(){return J},VH:function(){return z},VJ:function(){return Z},Vy:function(){return m},Wy:function(){return et},XP:function(){return H},Yn:function(){return g},ZL:function(){return er},aA:function(){return es},a_:function(){return X},af:function(){return ea},d1:function(){return F},dJ:function(){return L},dt:function(){return j},hE:function(){return w},ht:function(){return f},il:function(){return en},it:function(){return N},jC:function(){return k},jV:function(){return C},ls:function(){return $},mW:function(){return B},nM:function(){return K},pQ:function(){return ec},pX:function(){return y},py:function(){return ee},q6:function(){return I},qJ:function(){return x},ql:function(){return O},r1:function(){return R},rO:function(){return A},rd:function(){return o},sC:function(){return u},sI:function(){return M},sN:function(){return d},tm:function(){return l},tt:function(){return p},vx:function(){return W},wK:function(){return Y},we:function(){return G},x4:function(){return E},xD:function(){return D}});let a="https://survey-3uf0.onrender.com",n="api/user/getUser",s="api/user/getAllUsers",c="api/user/addUsers",o="api/user/addMultipleUsers",u="api/user/updateUser",i="api/user/updateUsers",l="api/chatroom/getAllChatsData",d="api/user/getSupervisorCollectors",m="api/user/assignBooth",p="api/user/getAllKaryakarta",h="api/user/getKaryakarta",f="api/user/createKaryakarta",g="api/user/updateKaryakarta",y="api/user/getUsersByAcList",x="api/user/updateMultipleKaryakarta",w="api/user/importKaryakartas",v="api/survey/saveSurvey",S="api/survey/updateSurvey",b="api/survey/getSurvey",j="api/survey/deleteSurvey",N="api/survey/getAllSurveys",W="api/response/saveResponses",P="api/response/getAllSurveyResponses",k="api/response/getAllResponses",Z="api/response/getSurveyResponseStats",q="api/response/updateResponse",T="api/response/saveQualityRemark",A=["Contact Form","Address"],M="api/dashboard",E="api/auth/login",C="api/auth/forgotPassword",I="api/auth/resetPassword",R="api/auth/adminLogin",_="api/role/allRoles",B="api/role/roles",O="api/role/create",U="api/role/update",z="api/role/delete",K="api/todo/create",D="api/todo/todo",G="api/todo/todos",F="api/todo/update",J="api/todo/delete",V="api/sampling/assign-sample-responses",L="api/sampling/sample-responses",Q="api/sampling/sample-surveys",Y="api/sampling/groups",H="api/sampling/delete",X="api/call-rating/dashboard",$="675985aaa6b36c1fa78d5517",ee="671f997d38863c2bfc859e76",et="675a92c24bbe3577d16bcb64",er="67713c803e1c10c39195a9cc",ea="67713c9a3e1c10c39195a9ce",en="671f99d938863c2bfc859e7f",es="6793cb217ad0c3539d615831",ec=["Supervisor","Panna Pramukh","Survey Manager","Quality Check","Data Analyst","Data Manager","Support Executive","VRM Team Manager"]}},function(e){e.O(0,[8472,8726,8143,1071,9693,9527,2971,7023,1744],function(){return e(e.s=95833)}),_N_E=e.O()}]);