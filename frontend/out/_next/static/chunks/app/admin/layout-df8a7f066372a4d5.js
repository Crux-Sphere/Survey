(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{72912:function(t,e,n){Promise.resolve().then(n.bind(n,67359))},20357:function(t,e,n){"use strict";var r,a;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(a=n.g.process)?void 0:a.env)?n.g.process:n(88081)},88081:function(t){!function(){var e={229:function(t){var e,n,r,a=t.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var c=[],l=!1,u=-1;function d(){l&&r&&(l=!1,r.length?c=r.concat(c):u=-1,c.length&&p())}function p(){if(!l){var t=o(d);l=!0;for(var e=c.length;e;){for(r=c,c=[];++u<e;)r&&r[u].run();u=-1,e=c.length}r=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}a.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||l||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(t){return[]},a.binding=function(t){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},n={};function r(t){var a=n[t];if(void 0!==a)return a.exports;var i=n[t]={exports:{}},s=!0;try{e[t](i,i.exports,r),s=!1}finally{s&&delete n[t]}return i.exports}r.ab="//";var a=r(229);t.exports=a}()},67359:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return w}});var r=n(57437),a=n(16463),i=n(824),s=n(2265),o=n(95650),c=n(9726),l=n(66648),u={src:"/_next/static/media/profile.e5bf84e2.png"},d=n(85097),p=function(t){let{onSidebarToggle:e}=t,n=(0,a.useRouter)(),[p,f]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let t=(0,o.a_)();console.log(t),t?f((0,o.a_)()):n.push("/login")},[n]),(0,r.jsxs)("nav",{className:"sticky z-50 top-0 flex px-8 py-[18px] h-[80px] shadow-md justify-between bg-white",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsx)("button",{onClick:()=>e(),className:"text-secondary-300",children:(0,r.jsx)(c.QEj,{size:22})}),(0,r.jsxs)(i.Z,{onClick:()=>{localStorage.removeItem("jwt_token"),n.push("/")},className:"text-[14px] flex gap-2 font-semibold text-red-500 border-red-500 hover:bg-red-500 survitems-center whitespace-nowrap",children:[(0,r.jsx)(d.qgu,{className:"text-xl "}),"Logout"]})]}),(0,r.jsxs)("div",{className:"flex gap-9 justify-center items-center",children:[(0,r.jsx)(l.default,{src:"/_next/static/media/active.55489312.png",height:25,width:25,alt:"bell icon"}),p&&(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(l.default,{src:u.src,height:40,width:40,alt:"profile icon"}),(0,r.jsxs)("h3",{className:"text-primary-300 text-[14px]",children:["Welcome"," ",(0,r.jsx)("span",{className:"font-semibold text-[18px]",children:p.name})]})]})]})]})},f=n(43781),m=n(18554),h=n(54038),x={src:"/_next/static/media/logo.34fe4f96.png"},g={src:"/_next/static/media/logo-large.dfd03549.png"},v=n(23051),y=function(t){let{sidebarOpen:e}=t,n=(0,a.usePathname)(),i=(0,a.useRouter)(),[c,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let t=(0,o.a_)();t&&u(t)},[]);let d=[{icon:(0,r.jsx)(f.qwN,{size:18}),name:"Dashboard",path:"/admin",tooltip:"Dashboard"},{icon:(0,r.jsx)(f.yrZ,{size:18}),name:"Surveys",path:"/admin/surveys",tooltip:"Surveys"},{icon:(0,r.jsx)(f.VEC,{size:18}),name:"Data",path:"/admin/data",tooltip:"Data"},{icon:(0,r.jsx)(v.aPl,{size:18}),name:"To-Do list",path:"/admin/todos",tooltip:"todo-list"},{icon:(0,r.jsx)(f.Oaq,{size:18}),name:"Support",path:"/admin/support",tooltip:"Support"},{icon:(0,r.jsx)(f.VJk,{size:18}),name:"Settings",path:"/admin/settings",tooltip:"Settings"}];return(null==c?void 0:c.role)&&c.role.includes("Operation team")?d=d.filter(t=>"Karyakarta"!==t.name&&"Users"!==t.name):d.push({icon:(0,r.jsx)(m.Bmn,{size:18}),name:"Karyakarta",path:"/admin/karyakarta",tooltip:"Karyakarta"},{icon:(0,r.jsx)(m.Bmn,{size:18}),name:"Users",path:"/admin/users",tooltip:"Users"}),(0,r.jsx)("aside",{className:"h-screen sticky top-0 left-0 border-2 border-secondary-100 flex flex-col transition-all duration-300 ease-in-out justify-between ".concat(e?"max-w-[250px]":"max-w-[75px]"),children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{onClick:()=>i.push("/"),className:"font-bold text-primary-300 cursor-pointer justify-center pt-2",children:e?(0,r.jsx)(l.default,{src:g.src,alt:"logo",height:200,width:200}):(0,r.jsx)(l.default,{src:x.src,alt:"logo",height:64,width:64})}),(0,r.jsx)("div",{className:"flex flex-col items-start pt-16 ".concat(e?"px-2":""),children:d.map((t,a)=>(0,r.jsxs)("div",{className:"relative flex justify-center ".concat(e?"w-full mb-6":"w-fit self-center mb-10"," rounded-md ").concat("/admin"===t.path?n===t.path?"bg-primary-300 text-secondary-600":"text-secondary-300":n.includes(t.path)?"bg-primary-300 text-secondary-600":"text-secondary-300"),children:[(0,r.jsxs)("button",{onClick:()=>{i.push(t.path)},className:"rounded-md px-3 py-2 flex items-center gap-3 text-[14px] font-semibold ".concat(e?"w-[150px]":"w-fir"),children:[!e&&(0,r.jsx)("div",{className:"w-full","data-tooltip-id":"tooltip-".concat(a),"data-tooltip-content":t.tooltip,"data-tooltip-place":"right",children:t.icon}),e&&t.icon,e&&t.name]}),(0,r.jsx)(h.u,{id:"tooltip-".concat(a),style:{zIndex:30,position:"fixed"}})]},a))})]})})},j=n(88726);let b=["/admin/data/analytics","/admin/surveys/questions"];var w=function(t){let{children:e}=t,n=(0,a.usePathname)(),[i,o]=(0,s.useState)(!b.includes(n));return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(y,{sidebarOpen:i}),(0,r.jsxs)("div",{className:" flex-col ".concat(i?"flex-1":"w-[calc(100vw-75px)]"),children:[(0,r.jsx)(p,{onSidebarToggle:function(){o(!i)}}),(0,r.jsx)("main",{className:"w-full h-full",children:e})]}),(0,r.jsx)(j.x7,{})]})}},824:function(t,e,n){"use strict";var r=n(57437);n(2265);var a=n(96164);e.Z=function(t){let{children:e,className:n,...i}=t;return(0,r.jsx)("button",{...i,className:(0,a.m6)("border border-primary-300 px-4 py-2 rounded-md text-primary-300 hover:text-white hover:bg-primary-300",n),children:e})}},95650:function(t,e,n){"use strict";n.d(e,{Sg:function(){return s},aF:function(){return i},a_:function(){return o},p6:function(){return a}});let r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function a(t){let e=new Date(t),n=String(e.getDate()).padStart(2,"0"),a=r[e.getMonth()],i=e.getFullYear();return"".concat(n,"-").concat(a,"-").concat(i)}function i(t,e){return t.length>e?t.slice(0,e)+"...":t}function s(t){let e=new Date(t),n=String(e.getDate()).padStart(2,"0"),a=r[e.getMonth()];return"".concat(n," ").concat(a)}function o(){{let t=localStorage.getItem("jwt_token");return t?JSON.parse(atob(t.split(".")[1])):null}}}},function(t){t.O(0,[1779,3217,5706,522,5280,3004,6164,4049,8143,4038,2971,7023,1744],function(){return t(t.s=72912)}),_N_E=t.O()}]);