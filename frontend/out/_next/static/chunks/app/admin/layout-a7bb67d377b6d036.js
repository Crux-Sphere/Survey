(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9091],{72912:function(e,t,n){Promise.resolve().then(n.bind(n,20152))},20357:function(e,t,n){"use strict";var a,r;e.exports=(null==(a=n.g.process)?void 0:a.env)&&"object"==typeof(null==(r=n.g.process)?void 0:r.env)?n.g.process:n(88081)},88081:function(e){!function(){var t={229:function(e){var t,n,a,r=e.exports={};function s(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var c=[],l=!1,u=-1;function p(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=o(p);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},i=!0;try{t[e](s,s.exports,a),i=!1}finally{i&&delete n[e]}return s.exports}a.ab="//";var r=a(229);e.exports=r}()},20152:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(57437),r=n(16463),s=n(2265),i=n(95650),o=n(9726),c=n(66648),l={src:"/_next/static/media/profile.e5bf84e2.png"},u=function(e){let{onSidebarToggle:t}=e,n=(0,r.useRouter)(),[u,p]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=(0,i.a_)();console.log(e),e?p((0,i.a_)()):n.push("/login")},[n]),(0,a.jsxs)("nav",{className:"sticky z-50 top-0 flex px-8 py-[18px] h-[80px] shadow-md justify-between bg-white",children:[(0,a.jsx)("div",{className:"flex gap-3 items-center",children:(0,a.jsx)("button",{onClick:()=>t(),className:"text-secondary-300",children:(0,a.jsx)(o.QEj,{size:22})})}),(0,a.jsxs)("div",{className:"flex gap-9 justify-center items-center",children:[(0,a.jsx)(c.default,{src:"/_next/static/media/active.55489312.png",height:25,width:25,alt:"bell icon"}),u&&(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(c.default,{src:l.src,height:40,width:40,alt:"profile icon"}),(0,a.jsxs)("h3",{className:"text-primary-300 text-[14px]",children:["Welcome"," ",(0,a.jsx)("span",{className:"font-semibold text-[18px]",children:u.name})]})]})]})]})},p=n(54038),d={src:"/_next/static/media/survey_profile.98cb24d7.png"},f=function(e){let{sidebarOpen:t}=e,n=(0,r.usePathname)(),o=(0,r.useRouter)(),[l,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=(0,i.a_)();e&&u(e)},[]);let f=[{icon:"/images/dashboard.png",name:"Dashboard",path:"/admin",tooltip:"Dashboard"},{icon:"/images/survey.png",name:"Surveys",path:"/admin/surveys",tooltip:"Surveys"},{icon:"/images/database.png",name:"Data",path:"/admin/data",tooltip:"Data"},{icon:"/images/todo.png",name:"To-Do list",path:"/admin/todos",tooltip:"todo-list"}];function m(e){return"relative flex justify-center ".concat(t?"w-full mb-3":"w-fit self-center mb-10"," rounded-[15px] transition-all ease-in-out duration-200 ").concat("/admin"===e.path?n===e.path?"bg-primary-300 text-secondary-600 hover:bg-primary-100 hover:text-white hover:scale-105":"text-secondary-300 hover:bg-primary-300 hover:text-white hover:scale-105":n.includes(e.path)?"bg-primary-300 text-secondary-600 hover:bg-primary-100 hover:text-white hover:scale-105":"text-secondary-300 hover:bg-primary-300 hover:text-white hover:scale-105")}return(null==l?void 0:l.role)&&l.role.includes("Operation team")?f=f.filter(e=>"Karyakarta"!==e.name&&"Users"!==e.name):f.push({icon:"/images/karyakarta.png",name:"Karyakarta",path:"/admin/karyakarta",tooltip:"Karyakarta"},{icon:"/images/survey-user.png",name:"Users",path:"/admin/users",tooltip:"Users"}),(0,a.jsxs)("aside",{className:"h-screen overflow-visible relative border-2 border-secondary-100 flex flex-col transition-all duration-300 ease-in-out justify-between pb-5 ".concat(t?"w-[250px]":"w-[75px]"),children:[(0,a.jsx)("button",{className:"absolute z-50 -right-[25px] top-1/2 transform -translate-y-1/2",children:(0,a.jsx)("img",{src:"/images/arrow-left.png",className:" w-[50px]"})}),(0,a.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,a.jsxs)("h1",{onClick:()=>o.push("/"),className:"flex flex-col font-semibold gap-3 cursor-pointer justify-center pt-2 items-center",children:[t?(0,a.jsx)(c.default,{src:d.src,alt:"logo",height:123,width:123}):(0,a.jsx)(c.default,{src:d.src,alt:"logo",height:64,width:64}),(0,a.jsx)("button",{children:"Profile"})]}),(0,a.jsx)("div",{className:"flex flex-1 flex-col items-start pt-10 ".concat(t?"px-2":""),children:f.map((e,n)=>(0,a.jsxs)("div",{className:m(e),children:[(0,a.jsxs)("button",{onClick:()=>{o.push(e.path)},className:"rounded-md px-3 py-2 flex items-center gap-3 text-[14px] font-semibold ".concat(t?"w-[150px]":"w-fit"),children:[!t&&(0,a.jsx)("div",{className:"w-full","data-tooltip-id":"tooltip-".concat(n),"data-tooltip-content":e.tooltip,"data-tooltip-place":"right",children:(0,a.jsx)("img",{src:e.icon,className:"w-[20px]"})}),t&&(0,a.jsx)("img",{src:e.icon,className:"w-[20px]"}),t&&e.name]}),(0,a.jsx)(p.u,{id:"tooltip-".concat(n),style:{zIndex:30,position:"fixed"}})]},n))}),(0,a.jsxs)("div",{className:"flex flex-col w-full ".concat(t?"px-2":""),children:[[{icon:"/images/support.png",name:"Support",path:"/admin/support",tooltip:"Support"},{icon:"/images/settings.png",name:"Settings",path:"/admin/settings",tooltip:"Settings"}].map((e,n)=>(0,a.jsxs)("div",{className:m(e),children:[(0,a.jsxs)("button",{onClick:()=>{o.push(e.path)},className:"rounded-md px-3 py-2 flex items-center gap-3 text-[14px] font-semibold ".concat(t?"w-[150px]":""),children:[!t&&(0,a.jsx)("div",{className:"w-full","data-tooltip-id":"tooltip-".concat(n),"data-tooltip-content":e.tooltip,"data-tooltip-place":"right",children:(0,a.jsx)("img",{src:e.icon,className:"w-[20px]"})}),t&&(0,a.jsx)("img",{src:e.icon,className:"w-[20px]"}),t&&e.name]}),(0,a.jsx)(p.u,{id:"tooltip-".concat(n),style:{zIndex:30,position:"fixed"}})]},n)),(0,a.jsx)("div",{className:"relative flex justify-center hover:bg-primary-300 rounded-[20px] transition-all duration-150",children:(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("jwt_token"),o.push("/")},className:"rounded-md px-3 py-2 flex items-center gap-3 text-[14px] font-bold text-primary-300 hover:text-white ".concat(t?"w-[150px]":"w-fit"),children:[(0,a.jsx)("img",{src:"/images/logout.png",className:"w-[25px]"}),"Logout"]})})]})]})]})},m=n(88726);let h=["/admin/data/analytics","/admin/surveys/questions"];var x=function(e){let{children:t}=e,n=(0,r.usePathname)(),[i,o]=(0,s.useState)(!h.includes(n));return(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,a.jsx)(f,{sidebarOpen:i}),(0,a.jsxs)("div",{className:"flex flex-col ".concat(i?"flex-1":"w-[calc(100vw-75px)]"),children:[(0,a.jsx)(u,{onSidebarToggle:function(){o(!i)}}),(0,a.jsx)("main",{className:"flex-1 h-full overflow-auto",children:t})]}),(0,a.jsx)(m.x7,{})]})}},95650:function(e,t,n){"use strict";n.d(t,{Sg:function(){return i},aF:function(){return s},a_:function(){return o},p6:function(){return r}});let a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function r(e){let t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=a[t.getMonth()],s=t.getFullYear();return"".concat(n,"-").concat(r,"-").concat(s)}function s(e,t){return e.length>t?e.slice(0,t)+"...":e}function i(e){let t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=a[t.getMonth()];return"".concat(n," ").concat(r)}function o(){{let e=localStorage.getItem("jwt_token");return e?JSON.parse(atob(e.split(".")[1])):null}}}},function(e){e.O(0,[3217,3004,4049,8143,4038,2971,7023,1744],function(){return e(e.s=72912)}),_N_E=e.O()}]);