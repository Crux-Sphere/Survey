"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8155],{50336:function(e,t,n){var r=n(57437);n(2265);var s=n(76965),o=n(85260);t.Z=function(e){let{pannaPramukh:t,setUserModal:n,selectedPanna:a,setSelectedPanna:l,setAssignMode:i,userModal:c,userSearch:d,setUserSearch:u}=e;return console.log("pannapramukh are---->",t),(0,r.jsx)(o.Z,{open:c,closeModal:()=>{n(!1),l(null)},children:(0,r.jsxs)("div",{className:"relative flex flex-col h-[60vh] w-[30vw] p-4",children:[(0,r.jsx)("h1",{className:"self-center text-lg font-semibold mb-5",children:"Assign to Panna Pramukh"}),(0,r.jsx)("input",{placeholder:"Search by name",className:"sticky top-5 left-0 px-4 py-2 border-2 outline-none rounded-md",value:d||"",onChange:e=>u(e.target.value),type:"text"}),(0,r.jsx)("div",{className:"grid mt-5 grid-cols-2 gap-3",children:t&&t.length>0?t.map(e=>(0,r.jsxs)("label",{className:"flex gap-5",children:[(0,r.jsx)("input",{onChange:()=>l(e._id),type:"radio",name:"panna",className:"h-5 w-5"}),(0,r.jsx)("p",{children:e.name})]})):(0,r.jsx)("div",{className:"h-full w-full flex justify-center items-center col-span-2 text-xs",children:"No panna pramukh avaialable for this survey ac_list"})}),(0,r.jsx)(s.Z,{onClick:()=>{i(!0),n(!1)},className:"mt-auto disabled:bg-primary-100 disabled:cursor-not-allowed justify-center",disabled:!a,children:"Proceed"})]})})}},55691:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(57437),s=n(2265),o=n(824),a=n(85260),l=function(e){var t,n;let o,{question:a,surveyQuestions:l,setResponse:i,operator:c,questionType:d,response:u}=e,[p,m]=(0,s.useState)(null),h=null==l?void 0:l.find(e=>Number(a)===Number(e.question_id));if(h&&(o=h.type),console.log("qtype from response input --->",typeof o),o&&["Radio Grid","Number Grid","DropDown Grid","Single line Text Grid","Checkbox Grid"].includes(o)){let e=h.parameters.row_options.split("\n"),t=h.parameters.column_options.split("\n"),s=e.flatMap(e=>t.map(t=>"Radio Grid"===o?"".concat(e,": ").concat(t):["Number Grid","DropDown Grid","Single line Text Grid","Checkbox Grid"].includes(o)?"".concat(e,"-").concat(t):"".concat(e,": ").concat(t)));return console.log("result from radio grid --->",s),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("select",{onChange:e=>i(e.target.value),className:"flex items-center border border-secondary-200 rounded-[20px] outline-none focus:ring focus:ring-primary-50 px-8 py-3 w-full disabled:cursor-not-allowed",children:[(0,r.jsx)("option",{value:"",children:"select"}),s.map((e,t)=>(0,r.jsx)("option",{value:e,children:e},t))]}),["Number Grid","DropDown Grid","Single line Text Grid","Checkbox Grid"].includes(o)&&(0,r.jsx)("input",{disabled:0===d.trim().length||0===c.trim().length||0===u.trim().length,onChange:function(e){let t=e.target.value;m(t),i(e=>{let n=e.split(":")[0];return"".concat(n,":").concat(t)})},value:p||"",className:"flex items-center border border-secondary-200 rounded-[20px] outline-none focus:ring focus:ring-primary-50 px-8 py-3 w-full disabled:cursor-not-allowed",type:(null==l?void 0:null===(n=l.find(e=>Number(a)===Number(e.question_id)))||void 0===n?void 0:n.type)==="Date"?"date":"text",placeholder:"Enter response"})]})}return(0,r.jsx)("input",{disabled:0===d.trim().length||0===c.trim().length,onChange:e=>i(e.target.value),value:u,className:"flex items-center border border-secondary-200 rounded-[20px] outline-none focus:ring focus:ring-primary-50 px-8 py-3 w-full disabled:cursor-not-allowed",type:(null==l?void 0:null===(t=l.find(e=>Number(a)===Number(e.question_id)))||void 0===t?void 0:t.type)==="Date"?"date":"text",placeholder:"Enter response"})};let i={text:["contains","equals","starts with","ends with"],number:["=","!=","<","<=",">",">="],choice:["equals","not equals"]};var c=function(e){let{modalIsOpen:t,closeModal:n,surveyQuestions:s,question:c,questionType:d,operator:u,response:p,setQuestion:m,setQuestionType:h,setResponse:x,setOperator:g,saveFilter:f}=e,b=e=>["Single line Text Input","Multiline Text Input","Email","Phone Number","Checkbox List","Checkbox List With Other","Radio Grid","DropDown Grid","Single line Text Grid","Number Grid","Checkbox Grid"].includes(e)?i.text:["Number Input","Number Point","Rating","Date"].includes(e)?i.number:["Radio Button","DropDown","DropDown With Other"].includes(e)?i.choice:[],y=e=>{let t=b(e);return t.length>0?t[0]:""},v=e=>{let t=s.find(t=>Number(t.question_id)===Number(e));t?(m(e),h(t.type),g(y(t.type))):h("")};return console.log("================>",p),(0,r.jsx)(a.Z,{open:t,closeModal:n,children:(0,r.jsxs)("div",{className:"min-w-[500px] h-[270px] flex flex-col",children:[(0,r.jsx)("div",{className:"relative z-10 text-primary-300 px-8 py-4 font-semibold border-b border-secondary-300 w-full shadow-md",children:"Add filters"}),(0,r.jsxs)("form",{className:"w-full h-full p-4 flex gap-10 justify-center items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("label",{className:"text-my-gray-200",children:"Question"}),(0,r.jsxs)("select",{onChange:e=>v(e.target.value),value:c,className:"flex items-center border border-secondary-200 rounded-[20px] outline-none focus:ring focus:ring-primary-50 px-8 py-3 w-full",children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select question"}),s&&s.map((e,t)=>(0,r.jsx)("option",{value:e.question_id,className:"text-secondary-300 px-4 py-2 text-left border-b min-w-32 whitespace-nowrap",children:e.parameters.question},t))]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("label",{className:"text-my-gray-200",children:"Operator"}),(0,r.jsxs)("select",{disabled:0===c.trim().length,onChange:e=>g(e.target.value),value:u,className:"flex items-center border border-secondary-200 rounded-[20px] outline-none focus:ring focus:ring-primary-50 px-8 py-3 w-full disabled:cursor-not-allowed",children:[(0,r.jsx)("option",{disabled:!0,children:"Select operator"}),b(d).map((e,t)=>(0,r.jsx)("option",{value:e,children:e},t))]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)("label",{className:"text-my-gray-200",children:"Response"}),(0,r.jsx)(l,{operator:u,question:c,questionType:d,response:p,setResponse:x,surveyQuestions:s})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 items-center p-4",children:[(0,r.jsx)(o.Z,{className:"disabled:bg-primary-100 disabled:cursor-not-allowed disabled:text-secondary-100",disabled:0===c.trim().length||0===u.trim().length||0===p.trim().length,onClick:f,children:"Save Filter"}),(0,r.jsx)(o.Z,{className:"border-red-500 hover:bg-red-500 hover:text-white text-red-500",onClick:n,children:"Cancel"})]})]})})}},78731:function(e,t,n){var r=n(57437);n(2265);var s=n(7432);t.Z=function(e){let{filters:t,responses:n,surveyQuestions:o,appliedFilters:a,setAppliedFilters:l,selectedFilter:i}=e;return(0,r.jsxs)("div",{className:"w-[30%]",children:[(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsxs)("select",{onChange:e=>{let t=JSON.parse(e.target.value);a.find(e=>e.question===t.question&&e.operator===t.operator&&e.response===t.response)||l(t=>[...t,JSON.parse(e.target.value)])},value:i,name:"filters",id:"filters",className:"outline-none shadow-floating w-full  rounded-[20px]  px-4 py-2",children:[(0,r.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select filter"}),t&&t.length>0&&t.map(e=>{let t="";if(n&&n.length>0){let n=null==o?void 0:o.find(t=>Number(t.question_id)===Number(e.question));n&&(t=n.parameters.question)}let s=JSON.stringify({question:e.question,operator:e.operator,response:e.response});return(0,r.jsx)("option",{value:s,children:"".concat(t," ").concat(e.operator," ").concat(e.response)},e.question)})]})}),(0,r.jsx)("div",{className:"flex flex-col gap-2 mt-2",children:a.map(e=>{let t;let n=null==o?void 0:o.find(t=>Number(t.question_id)===Number(e.question));return n&&(t=n.parameters.question),(0,r.jsxs)("div",{className:"flex justify-between w-full border border-secondary-200 rounded-[20px] px-4 py-2 bg-white",children:[(0,r.jsx)("h2",{children:"".concat(t," ").concat(e.operator," ").concat(e.response)}),(0,r.jsx)("button",{onClick:()=>l(t=>t.filter(t=>!(t.question===e.question&&t.operator===e.operator&&t.response===e.response))),children:(0,r.jsx)(s.$iT,{})})]})})})]})}},824:function(e,t,n){var r=n(57437);n(2265);var s=n(96164);t.Z=function(e){let{children:t,className:n,...o}=e;return(0,r.jsx)("button",{...o,className:(0,s.m6)("border border-primary-300 px-4 py-2 rounded-[20px] text-primary-300 hover:text-white hover:bg-primary-300",n),children:t})}},81382:function(e,t,n){var r=n(57437);n(2265);var s=n(96164);t.Z=function(e){let{children:t,className:n,onClick:o,...a}=e;return(0,r.jsx)("button",{...a,onClick:o,className:(0,s.m6)("border text-black bg-[#E0DCDC] rounded-[20px] h-[50px]  px-10 py-3",n),children:t})}},40855:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(57437),s=n(44114),o=n(36463),a=n.n(o),l=n(96164);n(54575);var i=function(e){let{startDate:t,setStartDate:n,endDate:o,setEndDate:i,className:c}=e,d=e=>e?(0,s.WU)(e,"dd-MMM-yyyy"):"",u=e=>{if(!e)return null;let t=new Date(e);return t.setHours(0,0,0,0),t};return(0,r.jsx)("div",{className:(0,l.m6)("w-fit flex font-medium text-lg py-2 items-center space-x-2 rounded-md focus:outline-none cursor-pointer",c),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(a(),{selected:t,onChange:e=>n(u(e)),dateFormat:"dd.MM.yyyy",scrollableYearDropdown:!0,scrollableMonthYearDropdown:!0,customInput:(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",value:t?d(t):"",onChange:e=>{console.log("inside input")},placeholder:"Select start",className:"my-2 w-[150px] px-4 py-2 rounded-[20px] shadow-floating  text-center outline-none font-normal text-sm"})})}),(0,r.jsx)("img",{src:"/_next/static/media/doubleArrow.03752eee.png",className:"object-contain w-[30px] mx-4"}),(0,r.jsx)(a(),{selected:o,onChange:e=>i(u(e)),dateFormat:"dd.MM.yyyy",scrollableYearDropdown:!0,scrollableMonthYearDropdown:!0,customInput:(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",value:o?d(o):"",onChange:e=>{console.log("inside input")},placeholder:"Select end",className:"my-2 w-[150px] px-4 py-2 rounded-[20px] shadow-floating text-center outline-none font-normal text-sm"})})})]})})}},60152:function(e,t,n){n.d(t,{Bu:function(){return c},K7:function(){return l},Pt:function(){return o},kz:function(){return i},qn:function(){return d},sD:function(){return a}});var r=n(1633),s=n(38472);let o=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.vx),data:e},n=await s.Z.request(t);return console.log(n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},a=async e=>{try{let t={method:"GET",url:"".concat(r.M6,"/").concat(r.HA),params:e};return(await s.Z.request(t)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{let t={method:"GET",url:"".concat(r.M6,"/").concat(r.jC),params:e},n=await s.Z.request(t);return console.log("response --->",n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},i=async e=>{try{let t={method:"GET",url:"".concat(r.M6,"/").concat(r.jC),params:e,responseType:"blob"},n=await s.Z.request(t);return console.log("response --->",n),n}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},c=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.L5),data:e},n=await s.Z.request(t);return console.log("response --->",n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},d=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.Gb),data:e},n=await s.Z.request(t);return console.log("response --->",n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},60274:function(e,t,n){n.d(t,{Gn:function(){return d},LA:function(){return c},Vb:function(){return o},a2:function(){return i},ez:function(){return a},tB:function(){return l}});var r=n(1633),s=n(38472);let o=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.TK),headers:{"Content-Type":"application/json"},data:e},n=await s.Z.request(t);return console.log(n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},a=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.Dy,"?_id=").concat(e._id),headers:{"Content-Type":"application/json"},data:e.formData};return(await s.Z.request(t)).data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},l=async e=>{try{let t=e.page||1,n=e.limit||10,o=e.filter||"",a=e.created_by,l=e.sortBy,i=e.sortOrder,c=e.published;"published"===e.published?c=!0:"unpublished"===e.published?c=!1:"all"===e.published&&(c=void 0);let d={method:"GET",url:"".concat(r.M6,"/").concat(r.it,"?filter=").concat(o,"&page=").concat(t,"&limit=").concat(n,"&sortBy=").concat(l,"&sortOrder=").concat(i,"&published=").concat(c,"&created_by=").concat(a)},u=await s.Z.request(d);return console.log("response from networks---->",u),u.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},i=async e=>{try{e.page,e.limit,e.filter,e.created_by,e.sortBy,e.sortOrder,e.published,"published"===e.published||"unpublished"===e.published||e.published;let t={method:"GET",url:"".concat(r.M6,"/").concat(r.VJ),params:{survey_id:e.survey_id,filters:e.filters}},n=await s.Z.request(t);return console.log("survey response stats from networks ------>",n),console.log(n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},c=async e=>{try{let t={method:"GET",url:"".concat(r.M6,"/").concat(r.A5,"?_id=").concat(e._id)},n=await s.Z.request(t);return console.log("stats response is ====>",n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}},d=async e=>{try{let t={method:"POST",url:"".concat(r.M6,"/").concat(r.dt),data:e},n=await s.Z.request(t);return console.log(n),n.data}catch(e){return{success:!1,message:"Something Went Wrong",error:e}}}},554:function(e,t){t.Z={src:"/_next/static/media/calendar_new.defda661.png",height:113,width:101,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAQAAACfDS2NAAAAYUlEQVR42kXJuw2CUABA0VPrBrY2xjiDiQ7gIM6gw7iA0ZLEkGfBL0BLTU9N/aCC3OrmsPNzc3KROtKLSyODWq7SKI2EFSX8bSJXX2dvgnk9RQ8vCtvIwd1eQqaVSX0E3QQL3CYx2WNtWAAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8}}}]);